(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3932:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>F});var a=s(5155),l=s(2115),r=s(6265),i=s(5161),n=s(8425),o=s(7734),d=s(3697),c=s(232),x=s(6870),p=s(9386),m=s(8187),h=s(2723),j=s(4035),u=s(8128);let y={profit:"#10b981",loss:"#ef4444",accent:"#3b82f6",amber:"#f59e0b",neutral:"#475569",axis:"#94a3b8",grid:"#1e293b66",tipBg:"#111827",tipBorder:"#1e293b",text:"#f1f5f9"},k=["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paz","Lis","Gru"];function b(e){return e.toLocaleString("pl-PL",{minimumFractionDigits:2,maximumFractionDigits:2})+" PLN"}function z(e){let{active:t,payload:s,label:l,suffix:r}=e;return t&&(null==s?void 0:s.length)?(0,a.jsxs)("div",{className:"rounded-lg px-3 py-2 shadow-xl text-sm border",style:{background:y.tipBg,borderColor:y.tipBorder,color:y.text},children:[(0,a.jsx)("p",{className:"text-xs mb-1",style:{color:y.axis},children:l}),s.map((e,t)=>(0,a.jsxs)("p",{style:{color:e.color||y.text},children:[e.name,": ","%"===r?"".concat(e.value,"%"):b(e.value)]},t))]}):null}function g(e){let{data:t}=e;if(t.length<1)return null;let s=t.map(e=>{let[,t]=e.month.split("-");return{...e,label:k[parseInt(t,10)-1]||e.month}});return(0,a.jsx)("div",{className:"h-[280px] w-full",children:(0,a.jsx)(r.u,{width:"100%",height:"100%",children:(0,a.jsxs)(i.X,{data:s,margin:{left:10,right:10,top:5,bottom:5},children:[(0,a.jsx)(n.d,{strokeDasharray:"3 3",stroke:y.grid,vertical:!1}),(0,a.jsx)(o.W,{dataKey:"label",tick:{fill:y.axis,fontSize:11},axisLine:{stroke:y.grid}}),(0,a.jsx)(d.h,{yAxisId:"bar",tick:{fill:y.axis,fontSize:11},axisLine:!1,tickLine:!1,tickFormatter:e=>"".concat((e/1e3).toFixed(0),"k")}),(0,a.jsx)(d.h,{yAxisId:"line",orientation:"right",tick:{fill:y.accent,fontSize:11},axisLine:!1,tickLine:!1,tickFormatter:e=>"".concat((e/1e3).toFixed(0),"k")}),(0,a.jsx)(c.m,{content:(0,a.jsx)(z,{})}),(0,a.jsx)(x.yP,{yAxisId:"bar",dataKey:"profit",name:"Miesiac",radius:[4,4,0,0],children:s.map((e,t)=>(0,a.jsx)(p.f,{fill:e.profit>=0?y.profit:y.loss},t))}),(0,a.jsx)(m.N1,{yAxisId:"line",type:"monotone",dataKey:"cumulative",name:"Narastajaco",stroke:y.accent,strokeWidth:2,dot:{fill:y.accent,r:3}})]})})})}function w(e){let{wins:t,losses:s,breakeven:l}=e,i=t+s+l;if(0===i)return null;let n=Math.round(t/i*100),o=[{name:"Zyskowne",value:t,color:y.profit},{name:"Stratne",value:s,color:y.loss},...l>0?[{name:"Neutralne",value:l,color:y.neutral}]:[]];return(0,a.jsxs)("div",{className:"h-[280px] w-full flex flex-col items-center",children:[(0,a.jsx)(r.u,{width:"100%",height:220,children:(0,a.jsxs)(h.r,{children:[(0,a.jsx)(j.Fq,{data:o,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:3,dataKey:"value",children:o.map((e,t)=>(0,a.jsx)(p.f,{fill:e.color,stroke:"none"},t))}),(0,a.jsx)(c.m,{content:(0,a.jsx)(z,{suffix:"szt"})}),(0,a.jsxs)("text",{x:"50%",y:"46%",textAnchor:"middle",fill:y.text,fontSize:28,fontWeight:"bold",children:[n,"%"]}),(0,a.jsx)("text",{x:"50%",y:"58%",textAnchor:"middle",fill:y.axis,fontSize:12,children:"win rate"})]})}),(0,a.jsxs)("div",{className:"flex gap-4 text-xs mt-1",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-2.5 h-2.5 rounded-full",style:{background:y.profit}})," ",t," zyskownych"]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-2.5 h-2.5 rounded-full",style:{background:y.loss}})," ",s," stratnych"]}),l>0&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-2.5 h-2.5 rounded-full",style:{background:y.neutral}})," ",l," neutralnych"]})]})]})}function N(e){let{data:t}=e;if(t.length<2)return null;let s=[...t].sort((e,t)=>Math.abs(t.profit)-Math.abs(e.profit)).slice(0,10).reverse();return(0,a.jsx)("div",{style:{height:Math.max(200,32*s.length+40)},className:"w-full",children:(0,a.jsx)(r.u,{width:"100%",height:"100%",children:(0,a.jsxs)(u.E,{layout:"vertical",data:s,margin:{left:5,right:20,top:5,bottom:5},children:[(0,a.jsx)(n.d,{strokeDasharray:"3 3",stroke:y.grid,horizontal:!1}),(0,a.jsx)(o.W,{type:"number",tick:{fill:y.axis,fontSize:11},axisLine:{stroke:y.grid},tickFormatter:e=>"".concat((e/1e3).toFixed(0),"k")}),(0,a.jsx)(d.h,{type:"category",dataKey:"symbol",tick:{fill:y.axis,fontSize:11},width:90}),(0,a.jsx)(c.m,{content:(0,a.jsx)(z,{})}),(0,a.jsx)(x.yP,{dataKey:"profit",name:"Zysk/strata",radius:[0,4,4,0],children:s.map((e,t)=>(0,a.jsx)(p.f,{fill:e.profit>=0?y.profit:y.loss},t))})]})})})}function f(e){let{data:t}=e;if(t.length<2)return null;let s=[...t].slice(0,10).reverse();return(0,a.jsx)("div",{style:{height:Math.max(200,32*s.length+40)},className:"w-full",children:(0,a.jsx)(r.u,{width:"100%",height:"100%",children:(0,a.jsxs)(u.E,{layout:"vertical",data:s,margin:{left:5,right:20,top:5,bottom:5},children:[(0,a.jsx)(n.d,{strokeDasharray:"3 3",stroke:y.grid,horizontal:!1}),(0,a.jsx)(o.W,{type:"number",tick:{fill:y.axis,fontSize:11},axisLine:{stroke:y.grid},tickFormatter:e=>b(e)}),(0,a.jsx)(d.h,{type:"category",dataKey:"symbol",tick:{fill:y.axis,fontSize:11},width:90}),(0,a.jsx)(c.m,{content:(0,a.jsx)(z,{})}),(0,a.jsx)(x.yP,{dataKey:"gross",name:"Brutto PLN",fill:y.amber,radius:[0,4,4,0]})]})})})}function v(e){let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"-":new Intl.NumberFormat("pl-PL",{style:"currency",currency:"PLN",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,s="string"==typeof e?parseFloat(e):e;return isNaN(s)?"-":new Intl.NumberFormat("pl-PL",{minimumFractionDigits:t,maximumFractionDigits:t}).format(s)}function P(e){return e?new Date(e).toLocaleDateString("pl-PL"):"-"}function S(e){let t="string"==typeof e?parseFloat(e):e;return t>0?"text-emerald-400":t<0?"text-red-400":"text-slate-400"}function T(e){let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"-":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}function L(e){if(null==e)return"-";let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"-":t.toFixed(2)+"%"}let C=new Date().getFullYear(),W=Array.from({length:6},(e,t)=>C-1-t);function F(){let[e,t]=(0,l.useState)([]),[s,r]=(0,l.useState)([]),[i,n]=(0,l.useState)(C-1),[o,d]=(0,l.useState)(""),[c,x]=(0,l.useState)(!1),[p,m]=(0,l.useState)(!1),[h,j]=(0,l.useState)([]),[u,y]=(0,l.useState)(!1),[k,b]=(0,l.useState)(null),[z,F]=(0,l.useState)(null),[U,V]=(0,l.useState)(!1),[q,X]=(0,l.useState)(!1),[J,G]=(0,l.useState)(!1),[Q,Y]=(0,l.useState)(!1),[$,ee]=(0,l.useState)(!1),[et,es]=(0,l.useState)(!1),[ea,el]=(0,l.useState)(!1),[er,ei]=(0,l.useState)(!1),[en,eo]=(0,l.useState)(!1),[ed,ec]=(0,l.useState)(null),[ex,ep]=(0,l.useState)(!1),[em,eh]=(0,l.useState)(!1),[ej,eu]=(0,l.useState)(!1),[ey,ek]=(0,l.useState)(null),[eb,ez]=(0,l.useState)(null),[eg,ew]=(0,l.useState)(!1),[eN,ef]=(0,l.useState)(!1),[ev,e_]=(0,l.useState)(!1),[eP,eS]=(0,l.useState)(!1),[eT,eL]=(0,l.useState)(!1),[eC,eW]=(0,l.useState)(!1),[eF,eI]=(0,l.useState)([]),[eB,eM]=(0,l.useState)(!1),[eD,eE]=(0,l.useState)(!1),[eK,eA]=(0,l.useState)(null),[eO,eZ]=(0,l.useState)(null),eR=(0,l.useRef)(null),eH=(0,l.useRef)(null),eU=(0,l.useRef)(null),eV=(0,l.useRef)(null),eq=(0,l.useRef)(null),eX=(0,l.useMemo)(()=>{if(!z)return null;let e=z.report.capital_gains.matches,t=z.report.dividends.items,s={};for(let t of e){let e="".concat(t.symbol,"|").concat(t.broker||"?");s[e]||(s[e]={symbol:t.symbol,broker:t.broker||"?",revenue:0,cost:0,profit:0,trades:0}),s[e].revenue+=parseFloat(t.sell_revenue_pln),s[e].cost+=parseFloat(t.buy_cost_pln),s[e].profit+=parseFloat(t.profit_pln),s[e].trades+=1}let a=Object.values(s).sort((e,t)=>t.profit-e.profit),l=[...e].sort((e,t)=>parseFloat(t.profit_pln)-parseFloat(e.profit_pln)),r=l.slice(0,5),i=l.slice(-5).reverse(),n=e.reduce((e,t)=>e+parseFloat(t.buy_commission),0),o=e.reduce((e,t)=>e+parseFloat(t.sell_commission),0),d={};for(let e of t){let t="".concat(e.symbol,"|").concat(e.broker||"?");d[t]||(d[t]={symbol:e.symbol,broker:e.broker||"?",gross:0,wht:0,toPay:0,count:0}),d[t].gross+=parseFloat(e.gross_amount_pln),d[t].wht+=parseFloat(e.wht_amount_pln),d[t].toPay+=parseFloat(e.tax_to_pay_poland),d[t].count+=1}let c=Object.values(d).sort((e,t)=>t.gross-e.gross),x={};for(let t of e){let e=t.buy_currency;x[e]||(x[e]={buys:0,sells:0,volume:0}),x[e].buys+=1,x[e].sells+=1,x[e].volume+=parseFloat(t.sell_revenue_pln)+parseFloat(t.buy_cost_pln)}let p=e.length,m=e.filter(e=>parseFloat(e.profit_pln)>0).length,h=e.filter(e=>0>parseFloat(e.profit_pln)).length,j=p>0?e.reduce((e,t)=>e+parseFloat(t.profit_pln),0)/p:0,u=new Set(e.map(e=>e.symbol)).size,y={};for(let t of e){let e=new Date(t.sell_date),s="".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"));y[s]=(y[s]||0)+parseFloat(t.profit_pln)}let k=Object.entries(y).sort((e,t)=>{let[s]=e,[a]=t;return s.localeCompare(a)}).map(e=>{let[t,s]=e;return{month:t,profit:s,cumulative:0}}),b=0;for(let e of k)b+=e.profit,e.cumulative=b;return{symbolPnlList:a,bestTrades:r,worstTrades:i,totalBuyCommission:n,totalSellCommission:o,divBySymbolList:c,currencyStats:x,totalTrades:p,profitableTrades:m,lossTrades:h,avgProfit:j,uniqueSymbols:u,monthlyPnlList:k}},[z]),eJ=(e,t)=>({onDragEnter:t=>{t.preventDefault(),t.stopPropagation(),e(!0)},onDragLeave:t=>{t.preventDefault(),t.stopPropagation(),e(!1)},onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:s=>{s.preventDefault(),s.stopPropagation(),e(!1);let a=Array.from(s.dataTransfer.files).filter(e=>e.name.endsWith(".csv")||e.name.endsWith(".xlsx")||e.name.endsWith(".xls"));a.length>0&&(t(e=>[...e,...a]),b(null))}}),eG=(0,l.useMemo)(()=>eJ(x,t),[]),eQ=(0,l.useMemo)(()=>eJ(m,r),[]),eY=(0,l.useMemo)(()=>eJ(eM,eI),[]),e$=(0,l.useCallback)(e=>{e.target.files&&(t(t=>[...t,...Array.from(e.target.files)]),b(null))},[]),e0=(0,l.useCallback)(e=>{e.target.files&&(r(t=>[...t,...Array.from(e.target.files)]),b(null))},[]),e2=(0,l.useCallback)(e=>{e.target.files&&(eI(t=>[...t,...Array.from(e.target.files)]),eA(null))},[]),e1=(0,l.useCallback)(e=>{t(t=>t.filter((t,s)=>s!==e))},[]),e4=(0,l.useCallback)(e=>{r(t=>t.filter((t,s)=>s!==e))},[]),e5=(0,l.useCallback)(e=>{eI(t=>t.filter((t,s)=>s!==e))},[]),e3=(0,l.useMemo)(()=>[...e,...s],[e,s]),e8=(e,t,s)=>{j(a=>a.map((a,l)=>l===e?{...a,[t]:s}:a))},e7=async()=>{if(0===e3.length)return void b("Nie wybrano plikow. Przeciagnij pliki CSV/XLSX z brokera.");y(!0),b(null),ek(null),F(null);let e=new FormData;e3.forEach(t=>e.append("files",t)),e.append("tax_year",String(i)),o&&parseFloat(o)>0&&e.append("prior_year_loss",o);let t=h.filter(e=>e.symbol.trim()&&e.tradeDate&&e.quantity&&e.price);t.length>0&&e.append("manual_buys",JSON.stringify(t));try{let t=await fetch("http://localhost:8000/api/calculate",{method:"POST",body:e});if(!t.ok){let e=await t.json().catch(()=>null);throw Error((null==e?void 0:e.detail)||"Blad serwera (".concat(t.status,")"))}let s=await t.json();F(s),setTimeout(()=>{var e;null==(e=eV.current)||e.scrollIntoView({behavior:"smooth"})},100)}catch(e){b(e instanceof Error?e.message:"Nieoczekiwany blad. Sprawdz czy backend jest uruchomiony.")}finally{y(!1)}},e9=async()=>{if(0===e3.length)return void ek("Nie wybrano plikow. Przeciagnij plik CSV z raportu IBKR Performance.");eu(!0),ek(null),ez(null);let e=new FormData;e.append("file",e3[0]);try{let t=await fetch("http://localhost:8000/api/portfolio-analysis",{method:"POST",body:e});if(!t.ok){let e=await t.json().catch(()=>null);throw Error((null==e?void 0:e.detail)||"Blad serwera (".concat(t.status,")"))}let s=await t.json();ez(s),setTimeout(()=>{var e;null==(e=eq.current)||e.scrollIntoView({behavior:"smooth"})},100)}catch(e){ek(e instanceof Error?e.message:"Nieoczekiwany blad.")}finally{eu(!1)}},e6=async()=>{if(0===eF.length)return void eA("Nie wybrano pliku. Przeciagnij arkusz CSV z IKE/IKZE.");eE(!0),eA(null),eZ(null);let e=new FormData;e.append("file",eF[0]);try{let t=await fetch("http://localhost:8000/api/ike-ikze",{method:"POST",body:e});if(!t.ok){let e=await t.json().catch(()=>null);throw Error((null==e?void 0:e.detail)||"Blad serwera (".concat(t.status,")"))}let s=await t.json();eZ(s)}catch(e){eA(e instanceof Error?e.message:"Nieoczekiwany blad.")}finally{eE(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,a.jsx)("header",{className:"border-b border-slate-800 bg-[#0d1117]",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto px-6 py-6 flex items-center gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold tracking-tight text-white",children:"TaxPilot"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Kalkulator podatku gieldowego PIT-38"})]})]})}),(0,a.jsxs)("main",{className:"flex-1 max-w-5xl mx-auto w-full px-6 py-10 space-y-8",children:[(0,a.jsxs)("section",{className:"card space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white mb-1",children:"1. Wgraj pliki z brokera"}),(0,a.jsx)("p",{className:"text-sm text-slate-400",children:"Wgraj pliki z kazdego brokera do odpowiedniego pola"}),(0,a.jsxs)("div",{className:"mt-3 rounded-lg bg-blue-500/10 border border-blue-500/20 px-4 py-3 space-y-2",children:[(0,a.jsxs)("p",{className:"text-xs text-blue-300",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Wgraj pliki z WSZYSTKICH lat"})," — od otwarcia konta do dzis. System potrzebuje pelnej historii kupna, aby prawidlowo dopasowac transakcje metoda FIFO. Rok podatkowy wybierzesz w kroku 2 — wynik bedzie obliczony tylko za ten rok."]}),(0,a.jsxs)("p",{className:"text-xs text-blue-300/80",children:[(0,a.jsx)("span",{className:"font-medium",children:"IBKR:"})," Flex Query pozwala na max 365 dni na plik — wygeneruj osobne pliki za kazdy rok (np. akcje_23.csv, akcje_24.csv, akcje_25.csv + dywidendy za kazdy rok). Wgraj wszystkie naraz."]}),(0,a.jsxs)("p",{className:"text-xs text-indigo-300/80",children:[(0,a.jsx)("span",{className:"font-medium",children:"Brak starych plikow?"})," Wgraj raport Performance/Portfolio Analyst razem z Activity Statement — system automatycznie uzupelni brakujace historyczne kupna srednia cena z raportu Performance."]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{...eG,onClick:()=>{var e;return null==(e=eR.current)?void 0:e.click()},className:"\n                  relative cursor-pointer rounded-xl border-2 border-dashed\n                  transition-all duration-200\n                  flex flex-col items-center justify-center py-8 px-4\n                  ".concat(c?"drop-zone-active border-emerald-500 bg-emerald-500/5":"border-slate-700 hover:border-emerald-600 bg-slate-900/40 hover:bg-slate-900/70","\n                "),children:[(0,a.jsx)("input",{ref:eR,type:"file",multiple:!0,accept:".csv,.xlsx,.xls",onChange:e$,className:"hidden"}),(0,a.jsx)("svg",{className:"w-10 h-10 mb-3 ".concat(c?"text-emerald-400":"text-slate-500"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.338-2.32 4.5 4.5 0 013.09 8.362M12 9.75V3.75"})}),(0,a.jsx)("p",{className:"text-sm text-emerald-300 font-semibold",children:"Interactive Brokers"}),(0,a.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Flex Query / Activity Statement"}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-0.5",children:c?"Upusc pliki...":"Przeciagnij CSV lub kliknij"})]}),(0,a.jsxs)("button",{onClick:()=>ep(!ex),className:"flex items-center gap-1 text-xs text-slate-400 hover:text-emerald-400 transition-colors mt-1",children:[(0,a.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),"Jak pobrac raport z IBKR?",(0,a.jsx)("svg",{className:"w-3 h-3 transition-transform ".concat(ex?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]}),ex&&(0,a.jsxs)("div",{className:"bg-slate-800/60 border border-slate-700/50 rounded-lg p-4 text-xs text-slate-300 space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-emerald-300 mb-1.5",children:"Opcja 1: Flex Query (zalecane)"}),(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-slate-400",children:[(0,a.jsxs)("li",{children:["Zaloguj sie do IBKR → ",(0,a.jsx)("span",{className:"text-slate-200",children:"Performance & Reports"})," → ",(0,a.jsx)("span",{className:"text-slate-200",children:"Flex Queries"})]}),(0,a.jsxs)("li",{children:["Kliknij ",(0,a.jsx)("span",{className:"text-slate-200",children:'"+"'})," aby utworzyc nowy Flex Query"]}),(0,a.jsxs)("li",{children:["Wybierz sekcje: ",(0,a.jsx)("span",{className:"text-slate-200",children:"Trades"}),", ",(0,a.jsx)("span",{className:"text-slate-200",children:"Dividends"}),", ",(0,a.jsx)("span",{className:"text-slate-200",children:"Withholding Tax"}),", ",(0,a.jsx)("span",{className:"text-slate-200",children:"Transfers"})]}),(0,a.jsxs)("li",{children:["Format: ",(0,a.jsx)("span",{className:"text-slate-200",children:"CSV"}),", Period: od otwarcia konta do dzis"]}),(0,a.jsx)("li",{children:"Pobierz i wgraj wszystkie pliki naraz"})]}),(0,a.jsx)("div",{className:"mt-2 bg-amber-500/10 border border-amber-500/20 rounded px-3 py-1.5 text-amber-300",children:"Max 365 dni na plik — wygeneruj osobne pliki za kazdy rok (np. akcje_23.csv, akcje_24.csv, akcje_25.csv)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-emerald-300 mb-1.5",children:"Opcja 2: Activity Statement"}),(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-slate-400",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"text-slate-200",children:"Reports"})," → ",(0,a.jsx)("span",{className:"text-slate-200",children:"Statements"})," → ",(0,a.jsx)("span",{className:"text-slate-200",children:"Activity"})]}),(0,a.jsxs)("li",{children:["Period: ",(0,a.jsx)("span",{className:"text-slate-200",children:"Annual"}),", Format: ",(0,a.jsx)("span",{className:"text-slate-200",children:"CSV"})]}),(0,a.jsx)("li",{children:"Zawiera trades + dividends + WHT w jednym pliku"}),(0,a.jsx)("li",{children:"Wygeneruj za kazdy rok osobno i wgraj wszystkie"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-emerald-300 mb-1.5",children:"Opcjonalnie: Performance Report"}),(0,a.jsxs)("p",{className:"text-slate-400",children:[(0,a.jsx)("span",{className:"text-slate-200",children:"Reports"})," → ",(0,a.jsx)("span",{className:"text-slate-200",children:"Statements"})," → ",(0,a.jsx)("span",{className:"text-slate-200",children:"Analyst / Performance"}),", Period: ",(0,a.jsx)("span",{className:"text-slate-200",children:"Inception to Date"}),". Uzupelnia brakujace historyczne kupna srednia cena — wgraj razem z Flex Query."]})]})]}),e.length>0&&(0,a.jsx)("div",{className:"space-y-1.5",children:e.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-emerald-900/20 border border-emerald-800/30 rounded-lg px-3 py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-emerald-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,a.jsx)("span",{className:"text-sm text-slate-200 truncate",children:e.name}),(0,a.jsxs)("span",{className:"text-xs text-slate-500",children:["(",(e.size/1024).toFixed(1)," KB)"]})]}),(0,a.jsx)("button",{onClick:()=>e1(t),className:"text-slate-500 hover:text-red-400 transition-colors p-1","aria-label":"Usun plik",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]},"ibkr-".concat(e.name,"-").concat(t)))})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{...eQ,onClick:()=>{var e;return null==(e=eH.current)?void 0:e.click()},className:"\n                  relative cursor-pointer rounded-xl border-2 border-dashed\n                  transition-all duration-200\n                  flex flex-col items-center justify-center py-8 px-4\n                  ".concat(p?"drop-zone-active border-violet-500 bg-violet-500/5":"border-slate-700 hover:border-violet-600 bg-slate-900/40 hover:bg-slate-900/70","\n                "),children:[(0,a.jsx)("input",{ref:eH,type:"file",multiple:!0,accept:".csv,.xlsx,.xls",onChange:e0,className:"hidden"}),(0,a.jsx)("svg",{className:"w-10 h-10 mb-3 ".concat(p?"text-violet-400":"text-slate-500"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.338-2.32 4.5 4.5 0 013.09 8.362M12 9.75V3.75"})}),(0,a.jsx)("p",{className:"text-sm text-violet-300 font-semibold",children:"Exante"}),(0,a.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Custom report / historia transakcji"}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-0.5",children:p?"Upusc pliki...":"Przeciagnij CSV lub kliknij"})]}),(0,a.jsxs)("button",{onClick:()=>eh(!em),className:"flex items-center gap-1 text-xs text-slate-400 hover:text-violet-400 transition-colors mt-1",children:[(0,a.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"})}),"Jak pobrac raport z Exante?",(0,a.jsx)("svg",{className:"w-3 h-3 transition-transform ".concat(em?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})})]}),em&&(0,a.jsxs)("div",{className:"bg-slate-800/60 border border-slate-700/50 rounded-lg p-4 text-xs text-slate-300 space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-violet-300 mb-1.5",children:"Custom Report (historia transakcji)"}),(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-slate-400",children:[(0,a.jsxs)("li",{children:["Zaloguj sie do Exante → ",(0,a.jsx)("span",{className:"text-slate-200",children:"Reports"})," → ",(0,a.jsx)("span",{className:"text-slate-200",children:"Transaction Report"})]}),(0,a.jsxs)("li",{children:["Zakres dat: ",(0,a.jsx)("span",{className:"text-slate-200",children:"od otwarcia konta do dzis"})," (cala historia)"]}),(0,a.jsxs)("li",{children:["Typ transakcji: ",(0,a.jsx)("span",{className:"text-slate-200",children:"All transactions"})," (wszystkie)"]}),(0,a.jsxs)("li",{children:["Format: ",(0,a.jsx)("span",{className:"text-slate-200",children:"CSV"})]}),(0,a.jsxs)("li",{children:["Kliknij ",(0,a.jsx)("span",{className:"text-slate-200",children:"Generate"})," i pobierz plik"]})]})]}),(0,a.jsx)("div",{className:"bg-violet-500/10 border border-violet-500/20 rounded px-3 py-1.5 text-violet-300",children:"Jesli masz wiele kont (np. FCP0101.001, WXS2094) — pobierz osobny plik z kazdego konta. System rozpoznaje oba formaty Exante automatycznie."})]}),s.length>0&&(0,a.jsx)("div",{className:"space-y-1.5",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-violet-900/20 border border-violet-800/30 rounded-lg px-3 py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-violet-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,a.jsx)("span",{className:"text-sm text-slate-200 truncate",children:e.name}),(0,a.jsxs)("span",{className:"text-xs text-slate-500",children:["(",(e.size/1024).toFixed(1)," KB)"]})]}),(0,a.jsx)("button",{onClick:()=>e4(t),className:"text-slate-500 hover:text-red-400 transition-colors p-1","aria-label":"Usun plik",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]},"exa-".concat(e.name,"-").concat(t)))})]})]})]}),(0,a.jsxs)("section",{className:"card space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white mb-1 flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-amber-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Arkusz CSV — IKE / IKZE (opcjonalnie)"]}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Wgraj arkusz portfela z mBank eMakler. Konta IKE/IKZE sa zwolnione z podatku — dane sluza tylko do analizy portfela."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{...eY,onClick:()=>{var e;return null==(e=eU.current)?void 0:e.click()},className:"\n                  relative cursor-pointer rounded-xl border-2 border-dashed\n                  transition-all duration-200\n                  flex flex-col items-center justify-center py-8 px-4\n                  ".concat(eB?"drop-zone-active border-amber-500 bg-amber-500/5":"border-slate-700 hover:border-amber-600 bg-slate-900/40 hover:bg-slate-900/70","\n                "),children:[(0,a.jsx)("input",{ref:eU,type:"file",accept:".csv",onChange:e2,className:"hidden"}),(0,a.jsx)("svg",{className:"w-10 h-10 mb-3 ".concat(eB?"text-amber-400":"text-slate-500"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),(0,a.jsx)("p",{className:"text-sm text-amber-300 font-semibold",children:"IKE / IKZE"}),(0,a.jsx)("p",{className:"text-xs text-slate-400 mt-1",children:"Arkusz CSV z mBank eMakler"}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-0.5",children:eB?"Upusc plik...":"Przeciagnij CSV lub kliknij"})]}),eF.length>0&&(0,a.jsx)("div",{className:"space-y-1.5",children:eF.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-amber-900/20 border border-amber-800/30 rounded-lg px-3 py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-amber-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,a.jsx)("span",{className:"text-sm text-slate-200 truncate",children:e.name}),(0,a.jsxs)("span",{className:"text-xs text-slate-500",children:["(",(e.size/1024).toFixed(1)," KB)"]})]}),(0,a.jsx)("button",{onClick:()=>e5(t),className:"text-slate-500 hover:text-red-400 transition-colors p-1","aria-label":"Usun plik",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]},"ike-".concat(e.name,"-").concat(t)))})]}),(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)("button",{onClick:e6,disabled:eD||0===eF.length,className:"\n                  px-8 py-3 rounded-xl font-semibold text-sm tracking-wide\n                  transition-all duration-200\n                  ".concat(eD||0===eF.length?"bg-slate-700 text-slate-400 cursor-not-allowed":"bg-amber-600 hover:bg-amber-500 text-white shadow-lg shadow-amber-500/20 hover:shadow-amber-500/40","\n                "),children:eD?(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsxs)("svg",{className:"spinner w-5 h-5",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Wczytywanie..."]}):"Wczytaj portfel IKE/IKZE"})})]}),eK&&(0,a.jsx)("div",{className:"rounded-xl border border-red-500/30 bg-red-500/10 px-4 py-3 text-sm text-red-300",children:eK}),eO&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-emerald-400",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"Wczytano ",eO.report.positions.length," pozycji z ",eO.filename]}),(()=>{let e=eO.report.positions.filter(e=>"IKE"===e.account_type),t=eO.report.positions.filter(e=>"IKZE"===e.account_type),s=e.reduce((e,t)=>e+parseFloat(t.market_value_pln),0),l=t.reduce((e,t)=>e+parseFloat(t.market_value_pln),0),r=e.reduce((e,t)=>e+parseFloat(t.pnl_pln),0),i=t.reduce((e,t)=>e+parseFloat(t.pnl_pln),0);return(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:"IKE — wartosc"}),(0,a.jsx)("div",{className:"text-sm font-semibold text-white",children:v(s)}),(0,a.jsxs)("div",{className:"text-[10px] text-slate-500",children:[e.length," pozycji"]})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:"IKE — zysk/strata"}),(0,a.jsx)("div",{className:"text-sm font-semibold ".concat(S(r)),children:v(r)})]})]}),t.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:"IKZE — wartosc"}),(0,a.jsx)("div",{className:"text-sm font-semibold text-white",children:v(l)}),(0,a.jsxs)("div",{className:"text-[10px] text-slate-500",children:[t.length," pozycji"]})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:"IKZE — zysk/strata"}),(0,a.jsx)("div",{className:"text-sm font-semibold ".concat(S(i)),children:v(i)})]})]})]})})(),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-slate-700",children:[(0,a.jsx)("th",{className:"text-left py-2 px-2 text-slate-400 font-medium",children:"Konto"}),(0,a.jsx)("th",{className:"text-left py-2 px-2 text-slate-400 font-medium",children:"Symbol"}),(0,a.jsx)("th",{className:"text-left py-2 px-2 text-slate-400 font-medium",children:"Gielda"}),(0,a.jsx)("th",{className:"text-right py-2 px-2 text-slate-400 font-medium",children:"Ilosc"}),(0,a.jsx)("th",{className:"text-right py-2 px-2 text-slate-400 font-medium",children:"Sr. cena kupna"}),(0,a.jsx)("th",{className:"text-right py-2 px-2 text-slate-400 font-medium",children:"Cena obecna"}),(0,a.jsx)("th",{className:"text-right py-2 px-2 text-slate-400 font-medium",children:"Zmiana"}),(0,a.jsx)("th",{className:"text-right py-2 px-2 text-slate-400 font-medium",children:"Zysk/Strata PLN"}),(0,a.jsx)("th",{className:"text-right py-2 px-2 text-slate-400 font-medium",children:"Wartosc PLN"})]})}),(0,a.jsx)("tbody",{children:eO.report.positions.map((e,t)=>(0,a.jsxs)("tr",{className:"border-b border-slate-800/50 hover:bg-slate-800/30",children:[(0,a.jsx)("td",{className:"py-1.5 px-2",children:(0,a.jsx)("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded ".concat("IKE"===e.account_type?"bg-blue-500/15 text-blue-400":"bg-purple-500/15 text-purple-400"),children:e.account_type})}),(0,a.jsx)("td",{className:"py-1.5 px-2 text-slate-200 font-medium",children:e.symbol}),(0,a.jsx)("td",{className:"py-1.5 px-2 text-slate-400",children:e.exchange}),(0,a.jsx)("td",{className:"py-1.5 px-2 text-right text-slate-200",children:_(e.quantity,0)}),(0,a.jsxs)("td",{className:"py-1.5 px-2 text-right text-slate-300",children:[_(e.avg_buy_price,2)," ",e.currency]}),(0,a.jsxs)("td",{className:"py-1.5 px-2 text-right text-slate-300",children:[_(e.current_price,2)," ",e.currency]}),(0,a.jsxs)("td",{className:"py-1.5 px-2 text-right ".concat(S(e.change_pct)),children:[_(e.change_pct,2),"%"]}),(0,a.jsx)("td",{className:"py-1.5 px-2 text-right font-medium ".concat(S(e.pnl_pln)),children:v(e.pnl_pln)}),(0,a.jsx)("td",{className:"py-1.5 px-2 text-right text-slate-200",children:v(e.market_value_pln)})]},t))}),(0,a.jsx)("tfoot",{children:(0,a.jsxs)("tr",{className:"border-t border-slate-700",children:[(0,a.jsx)("td",{colSpan:7,className:"py-2 px-2 text-right text-slate-400 font-medium",children:"Razem:"}),(0,a.jsx)("td",{className:"py-2 px-2 text-right font-bold ".concat(S(eO.report.positions.reduce((e,t)=>e+parseFloat(t.pnl_pln),0))),children:v(eO.report.positions.reduce((e,t)=>e+parseFloat(t.pnl_pln),0))}),(0,a.jsx)("td",{className:"py-2 px-2 text-right font-bold text-white",children:v(eO.report.positions.reduce((e,t)=>e+parseFloat(t.market_value_pln),0))})]})})]})}),eO.report.warnings.length>0&&(0,a.jsxs)("div",{className:"rounded-lg border border-yellow-500/30 bg-yellow-500/10 px-4 py-3 text-xs text-yellow-300",children:[(0,a.jsx)("p",{className:"font-semibold mb-1",children:"Ostrzezenia:"}),eO.report.warnings.map((e,t)=>(0,a.jsx)("p",{children:e},t))]})]})]}),(0,a.jsxs)("section",{className:"card space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white mb-1",children:"Uzupelnij brakujace kupna (opcjonalnie)"}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Jesli nie masz pliku CSV z kupnem danego waloru (np. kupno z 2022 r.), wpisz dane recznie. Te pozycje zostana dolaczone do historii FIFO."})]}),h.map((e,t)=>(0,a.jsxs)("div",{className:"grid grid-cols-[1fr_1fr_1fr_1fr_auto_1fr_auto] gap-2 items-end",children:[(0,a.jsxs)("div",{children:[0===t&&(0,a.jsx)("label",{className:"block text-xs text-slate-400 mb-1",children:"Symbol"}),(0,a.jsx)("input",{type:"text",placeholder:"np. AAPL",value:e.symbol,onChange:e=>e8(t,"symbol",e.target.value),className:"w-full rounded-lg border border-slate-700 bg-slate-800 text-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[0===t&&(0,a.jsx)("label",{className:"block text-xs text-slate-400 mb-1",children:"Data kupna"}),(0,a.jsx)("input",{type:"date",value:e.tradeDate,onChange:e=>e8(t,"tradeDate",e.target.value),className:"w-full rounded-lg border border-slate-700 bg-slate-800 text-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[0===t&&(0,a.jsx)("label",{className:"block text-xs text-slate-400 mb-1",children:"Ilosc"}),(0,a.jsx)("input",{type:"number",min:"0",step:"any",placeholder:"10",value:e.quantity,onChange:e=>e8(t,"quantity",e.target.value),className:"w-full rounded-lg border border-slate-700 bg-slate-800 text-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[0===t&&(0,a.jsx)("label",{className:"block text-xs text-slate-400 mb-1",children:"Cena jedn."}),(0,a.jsx)("input",{type:"number",min:"0",step:"any",placeholder:"150.00",value:e.price,onChange:e=>e8(t,"price",e.target.value),className:"w-full rounded-lg border border-slate-700 bg-slate-800 text-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[0===t&&(0,a.jsx)("label",{className:"block text-xs text-slate-400 mb-1",children:"Waluta"}),(0,a.jsxs)("select",{value:e.currency,onChange:e=>e8(t,"currency",e.target.value),className:"rounded-lg border border-slate-700 bg-slate-800 text-slate-200 px-2 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500",children:[(0,a.jsx)("option",{value:"USD",children:"USD"}),(0,a.jsx)("option",{value:"EUR",children:"EUR"}),(0,a.jsx)("option",{value:"GBP",children:"GBP"}),(0,a.jsx)("option",{value:"CHF",children:"CHF"}),(0,a.jsx)("option",{value:"PLN",children:"PLN"})]})]}),(0,a.jsxs)("div",{children:[0===t&&(0,a.jsx)("label",{className:"block text-xs text-slate-400 mb-1",children:"Prowizja"}),(0,a.jsx)("input",{type:"number",min:"0",step:"any",placeholder:"0",value:e.commission,onChange:e=>e8(t,"commission",e.target.value),className:"w-full rounded-lg border border-slate-700 bg-slate-800 text-slate-200 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500"})]}),(0,a.jsx)("button",{onClick:()=>{j(e=>e.filter((e,s)=>s!==t))},className:"text-slate-500 hover:text-red-400 transition-colors p-2","aria-label":"Usun pozycje",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]},t)),(0,a.jsxs)("button",{onClick:()=>{j(e=>[...e,{symbol:"",tradeDate:"",quantity:"",price:"",currency:"USD",commission:"0"}])},className:"flex items-center gap-2 text-sm text-blue-400 hover:text-blue-300 transition-colors",children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),"Dodaj pozycje"]})]}),(0,a.jsxs)("section",{className:"card space-y-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white",children:"2. Parametry obliczen"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"taxYear",className:"block text-sm font-medium text-slate-300 mb-2",children:"Rok podatkowy (za ktory rozliczasz PIT-38)"}),(0,a.jsx)("select",{id:"taxYear",value:i,onChange:e=>n(Number(e.target.value)),className:"w-full rounded-lg border border-slate-700 bg-slate-800 text-slate-200 px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-colors",children:W.map(e=>(0,a.jsx)("option",{value:e,children:e},e))}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1.5",children:"Sprzedaze i dywidendy z tego roku beda rozliczone. Kupna z wczesniejszych lat posluza do FIFO."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"priorLoss",className:"block text-sm font-medium text-slate-300 mb-2",children:"Strata z lat ubieglych (opcjonalnie)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{id:"priorLoss",type:"number",min:"0",step:"0.01",placeholder:"0.00",value:o,onChange:e=>d(e.target.value),className:"w-full rounded-lg border border-slate-700 bg-slate-800 text-slate-200 pl-4 pr-14 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-colors placeholder:text-slate-600"}),(0,a.jsx)("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs text-slate-500",children:"PLN"})]}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1.5",children:"Kwota straty do odliczenia z ostatnich 5 lat"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-center gap-4 flex-wrap",children:[(0,a.jsx)("button",{onClick:e7,disabled:u||0===e3.length,className:"\n              btn-glow relative px-10 py-3.5 rounded-xl font-semibold text-sm tracking-wide\n              transition-all duration-200\n              ".concat(u||0===e3.length?"bg-slate-700 text-slate-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white shadow-lg shadow-blue-500/20 hover:shadow-blue-500/40","\n            "),children:u?(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsxs)("svg",{className:"spinner w-5 h-5",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Obliczanie..."]}):"Oblicz podatek"}),(0,a.jsx)("button",{onClick:e9,disabled:ej||0===e3.length,className:"\n              btn-glow relative px-10 py-3.5 rounded-xl font-semibold text-sm tracking-wide\n              transition-all duration-200\n              ".concat(ej||0===e3.length?"bg-slate-700 text-slate-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500 text-white shadow-lg shadow-indigo-500/20 hover:shadow-indigo-500/40","\n            "),children:ej?(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsxs)("svg",{className:"spinner w-5 h-5",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Analizowanie..."]}):"Oblicz zyski gieldowe"})]}),k&&(0,a.jsx)("div",{className:"rounded-xl border border-red-500/30 bg-red-500/10 px-6 py-4 text-sm text-red-300",children:(0,a.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)("span",{children:k})]})}),z&&(0,a.jsxs)("div",{ref:eV,className:"space-y-6 pt-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-700 to-transparent"}),(0,a.jsxs)("h2",{className:"text-lg font-semibold text-white",children:["Wyniki obliczen za ",z.report.tax_year]}),(0,a.jsx)("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-slate-700 to-transparent"})]}),(0,a.jsx)(B,{title:"Jak dziala kalkulator?",isOpen:$,onToggle:()=>ee(e=>!e),children:(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-slate-300",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"font-medium text-slate-200",children:"Parsowanie plikow"})," — system automatycznie rozpoznaje brokera (Interactive Brokers / Exante) i wyciaga transakcje: kupna, sprzedaze, dywidendy i podatki u zrodla (WHT)."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"font-medium text-slate-200",children:"Kursy NBP"})," — kazda transakcja w walucie obcej jest przeliczana na PLN wedlug sredniego kursu NBP (tabela A) z dnia roboczego ",(0,a.jsx)("em",{children:"poprzedzajacego"})," date rozliczenia (settlement date), zgodnie z art. 11a ust. 1 ustawy o PIT."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"font-medium text-slate-200",children:"Data rozliczenia"})," — dla gield US/CA/MX po 28.05.2024 stosuje sie T+1 (transakcja + 1 dzien roboczy), dla pozostalych T+2."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"font-medium text-slate-200",children:"Metoda FIFO"})," — sprzedaze sa parowane z najstarszymi kupnami tego samego waloru (First In, First Out), zgodnie z art. 30a ust. 3 ustawy o PIT."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:"font-medium text-slate-200",children:"Podatek 19%"})," — stawka zryczaltowana od zyskow kapitalowych (art. 30b ustawy o PIT). Kwota koncowa zaokraglona do pelnych zlotych."]})]})}),(0,a.jsxs)("section",{className:"card space-y-4",children:[(0,a.jsxs)("h3",{className:"text-base font-semibold text-white flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Podsumowanie plikow"]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"data-table w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Plik"}),(0,a.jsx)("th",{children:"Broker"}),(0,a.jsx)("th",{children:"Transakcje"}),(0,a.jsx)("th",{children:"Kupno"}),(0,a.jsx)("th",{children:"Sprzedaz"}),(0,a.jsx)("th",{children:"Dywidendy"}),(0,a.jsx)("th",{children:"WHT"})]})}),(0,a.jsx)("tbody",{children:z.files.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsxs)("td",{className:"font-medium text-slate-200",children:[e.filename,e.note&&(0,a.jsx)("div",{className:"text-[10px] text-indigo-300 mt-0.5",children:e.note})]}),(0,a.jsx)("td",{children:(0,a.jsx)("span",{className:"inline-block text-xs font-semibold px-2.5 py-0.5 rounded-full ".concat(e.note?"bg-indigo-500/15 text-indigo-400":"bg-blue-500/15 text-blue-400"),children:e.broker})}),(0,a.jsx)("td",{children:e.transactions_count}),(0,a.jsx)("td",{children:e.buys}),(0,a.jsx)("td",{children:e.sells}),(0,a.jsx)("td",{children:e.dividends}),(0,a.jsx)("td",{children:e.wht})]},t))})]})})]}),(0,a.jsxs)("section",{className:"card space-y-4",children:[(0,a.jsxs)("h3",{className:"text-base font-semibold text-white flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-emerald-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2z"})}),"PIT-38 -- Zyski kapitalowe"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[(0,a.jsx)(I,{label:"Przychod (poz. 22)",value:v(z.report.capital_gains.revenue_pln),color:"text-slate-200"}),(0,a.jsx)(I,{label:"Koszty (poz. 23)",value:v(z.report.capital_gains.costs_pln),color:"text-slate-200"}),(0,a.jsx)(I,{label:"Dochod / Strata",value:v(z.report.capital_gains.profit_pln),color:S(z.report.capital_gains.profit_pln)}),(0,a.jsx)(I,{label:"Podatek nalezny (19%)",value:v(z.report.capital_gains.tax_due),color:"text-amber-400",highlight:!0})]}),(0,a.jsx)(B,{title:"Jak obliczono zyski kapitalowe?",isOpen:J,onToggle:()=>G(e=>!e),children:(0,a.jsxs)("div",{className:"space-y-3 text-slate-300",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium text-slate-200",children:"Przychod (poz. 22 PIT-38)"})," — suma przychodow ze sprzedazy papierow wartosciowych w ",z.report.tax_year," r., przeliczona na PLN wg kursow NBP. Wzor: ",(0,a.jsx)("code",{className:"text-blue-300 bg-slate-800 px-1.5 py-0.5 rounded text-xs",children:"cena sprzedazy x ilosc x kurs NBP"})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium text-slate-200",children:"Koszty (poz. 23 PIT-38)"})," — suma kosztow nabycia (cena kupna x ilosc x kurs NBP z dnia kupna) + prowizje brokerskie, parowane metoda FIFO."]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium text-slate-200",children:"Dochod / Strata"})," — roznica: Przychod - Koszty. Jesli ujemna, to strate mozesz odliczyc w nastepnych 5 latach (max 50% straty rocznie)."]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium text-slate-200",children:"Podatek 19%"})," — stawka zryczaltowana od dochodu, zaokraglona do pelnych zlotych (zgodnie z Ordynacja Podatkowa). Jesli dochod ≤ 0, podatek wynosi 0 zl."]}),(0,a.jsx)("div",{className:"mt-2 p-3 rounded-lg bg-slate-800/60 border border-slate-700",children:(0,a.jsxs)("p",{className:"text-xs text-slate-400",children:[(0,a.jsx)("span",{className:"font-semibold text-slate-300",children:"Przyklad:"})," Kupiles 10 akcji AAPL po 150 USD (kurs NBP 4,20 PLN) = koszt 6 300 PLN. Sprzedales po 180 USD (kurs NBP 4,10 PLN) = przychod 7 380 PLN. Zysk: 7 380 - 6 300 = 1 080 PLN. Podatek: 1 080 x 19% = 205 PLN."]})})]})})]}),(0,a.jsxs)("section",{className:"card space-y-4",children:[(0,a.jsxs)("h3",{className:"text-base font-semibold text-white flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Dywidendy"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[(0,a.jsx)(I,{label:"Dywidendy brutto",value:v(z.report.dividends.total_gross_pln),color:"text-slate-200"}),(0,a.jsx)(I,{label:"WHT zaplacony",value:v(z.report.dividends.total_wht_pln),color:"text-slate-200"}),(0,a.jsx)(I,{label:"Podatek PL (19%)",value:v(z.report.dividends.total_polish_tax_due),color:"text-slate-200"}),(0,a.jsx)(I,{label:"Do zaplaty w PL",value:v(z.report.dividends.total_to_pay_pln),color:"text-amber-400",highlight:!0})]}),z.report.dividends.items.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("button",{onClick:()=>X(e=>!e),className:"text-sm text-blue-400 hover:text-blue-300 transition-colors flex items-center gap-1",children:[(0,a.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(q?"rotate-90":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),q?"Ukryj szczegoly":"Pokaz szczegoly (".concat(z.report.dividends.items.length," pozycji)")]}),q&&(0,a.jsx)("div",{className:"overflow-x-auto mt-4",children:(0,a.jsxs)("table",{className:"data-table w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Symbol"}),(0,a.jsx)("th",{children:"Broker"}),(0,a.jsx)("th",{children:"Kraj"}),(0,a.jsx)("th",{children:"Data"}),(0,a.jsx)("th",{children:"Waluta"}),(0,a.jsx)("th",{children:"Brutto"}),(0,a.jsx)("th",{children:"Brutto PLN"}),(0,a.jsx)("th",{children:"WHT"}),(0,a.jsx)("th",{children:"WHT PLN"}),(0,a.jsx)("th",{children:"Do zaplaty PL"})]})}),(0,a.jsx)("tbody",{children:z.report.dividends.items.map((e,t)=>{var s;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-medium text-slate-200",children:e.symbol}),(0,a.jsx)("td",{children:(0,a.jsx)("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold ".concat((null==(s=e.broker)?void 0:s.startsWith("EXANTE"))?"bg-violet-900/60 text-violet-300":"bg-emerald-900/60 text-emerald-300"),children:e.broker||"?"})}),(0,a.jsx)("td",{children:e.country||"-"}),(0,a.jsx)("td",{children:P(e.pay_date)}),(0,a.jsx)("td",{children:e.currency}),(0,a.jsx)("td",{children:_(e.gross_amount)}),(0,a.jsx)("td",{children:v(e.gross_amount_pln)}),(0,a.jsx)("td",{children:_(e.wht_amount)}),(0,a.jsx)("td",{children:v(e.wht_amount_pln)}),(0,a.jsx)("td",{className:"text-amber-400 font-medium",children:v(e.tax_to_pay_poland)})]},t)})})]})})]}),(0,a.jsx)(B,{title:"Jak obliczono podatek od dywidend?",isOpen:Q,onToggle:()=>Y(e=>!e),children:(0,a.jsxs)("div",{className:"space-y-3 text-slate-300",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium text-slate-200",children:"Dywidendy brutto"})," — kwota dywidendy otrzymanej od zagranicznego emitenta, przeliczona na PLN wg kursu NBP z dnia poprzedzajacego wyplate."]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium text-slate-200",children:"WHT (Withholding Tax)"})," — podatek u zrodla pobrany przez zagraniczny kraj (np. 15% w USA na podstawie umowy o unikaniu podwojnego opodatkowania, formularz W-8BEN)."]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium text-slate-200",children:"Podatek PL 19%"})," — Polska wymaga 19% podatku od dywidend. Jesli juz zaplaciles WHT za granica, odliczasz go od polskiego podatku."]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium text-slate-200",children:"Do zaplaty w PL"})," — roznica:",(0,a.jsx)("code",{className:"text-blue-300 bg-slate-800 px-1.5 py-0.5 rounded text-xs ml-1",children:"max(0, podatek_PL_19% - WHT_w_PLN)"}),". Jesli WHT pokrywa caly polski podatek, do zaplaty jest 0 zl."]}),(0,a.jsx)("div",{className:"mt-2 p-3 rounded-lg bg-slate-800/60 border border-slate-700",children:(0,a.jsxs)("p",{className:"text-xs text-slate-400",children:[(0,a.jsx)("span",{className:"font-semibold text-slate-300",children:"Przyklad:"})," Dywidenda 100 USD (kurs NBP 4,00 = 400 PLN). USA pobraly 15% WHT = 15 USD = 60 PLN. Polski podatek: 400 x 19% = 76 PLN. Do zaplaty w PL: 76 - 60 = 16 PLN."]})})]})})]}),z.report.pit_zg.length>0&&(0,a.jsxs)("section",{className:"card space-y-4",children:[(0,a.jsxs)("h3",{className:"text-base font-semibold text-white flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-sky-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"PIT/ZG -- Rozliczenie wg krajow"]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"data-table w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Kod"}),(0,a.jsx)("th",{children:"Kraj"}),(0,a.jsx)("th",{children:"Zyski kapitalowe PLN"}),(0,a.jsx)("th",{children:"Dywidendy PLN"}),(0,a.jsx)("th",{children:"Podatek zaplacony za granica PLN"})]})}),(0,a.jsx)("tbody",{children:z.report.pit_zg.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-mono text-slate-300",children:e.country_code}),(0,a.jsx)("td",{className:"text-slate-200",children:e.country_name}),(0,a.jsx)("td",{children:v(e.capital_gains_pln)}),(0,a.jsx)("td",{children:v(e.dividend_income_pln)}),(0,a.jsx)("td",{children:v(e.tax_paid_abroad_pln)})]},t))})]})})]}),(0,a.jsxs)("section",{className:"card space-y-4",children:[(0,a.jsxs)("button",{onClick:()=>el(e=>!e),className:"w-full flex items-center gap-2 text-left",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),(0,a.jsx)("h3",{className:"text-base font-semibold text-white flex-1",children:"Instrukcja wypelniania PIT-38 i PIT/ZG"}),(0,a.jsx)("svg",{className:"w-4 h-4 text-slate-400 transition-transform ".concat(ea?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),ea&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-orange-400 mb-3",children:"PIT-38 -- Czesc C: Dochody/straty z odplatnego zbycia papierow wartosciowych"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(M,{field:"Poz. 22",label:"Przychod",value:v(z.report.capital_gains.revenue_pln),description:"Suma przychodow ze sprzedazy papierow wartosciowych w PLN"}),(0,a.jsx)(M,{field:"Poz. 23",label:"Koszty uzyskania przychodu",value:v(z.report.capital_gains.costs_pln),description:"Suma kosztow nabycia (cena kupna + prowizje) w PLN"}),parseFloat(z.report.capital_gains.profit_pln)>=0?(0,a.jsx)(M,{field:"Poz. 26",label:"Dochod",value:v(z.report.capital_gains.profit_pln),description:"Przychod minus koszty (poz. 22 - poz. 23). Wpisz gdy wynik jest dodatni.",highlight:!0}):(0,a.jsx)(M,{field:"Poz. 27",label:"Strata",value:v(Math.abs(parseFloat(z.report.capital_gains.profit_pln))),description:"Koszty minus przychod (poz. 23 - poz. 22). Wpisz gdy wynik jest ujemny. Strate mozesz odliczyc w nastepnych 5 latach.",highlight:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-orange-400 mb-3",children:"PIT-38 -- Czesc E: Obliczenie podatku"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(M,{field:"Poz. 30",label:"Podstawa obliczenia podatku",value:v(Math.max(0,parseFloat(z.report.capital_gains.profit_pln))),description:"Dochod po odliczeniu strat z lat ubieglych, zaokraglony do pelnych zlotych"}),(0,a.jsx)(M,{field:"Poz. 31",label:"Podatek (19%)",value:v(z.report.capital_gains.tax_due),description:"19% od podstawy z poz. 30, zaokraglone do pelnych zlotych",highlight:!0})]})]}),parseFloat(z.report.dividends.total_gross_pln)>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-orange-400 mb-3",children:"PIT-38 -- Czesc G / PIT-36: Dywidendy zagraniczne"}),(0,a.jsx)("div",{className:"rounded-lg bg-blue-500/10 border border-blue-500/20 px-4 py-3 mb-3",children:(0,a.jsxs)("p",{className:"text-xs text-blue-300",children:["Dywidendy z zagranicy rozliczasz w ",(0,a.jsx)("span",{className:"font-semibold",children:"PIT-36"})," (Czesc G -- Dochody z zagranicy) lub w ",(0,a.jsx)("span",{className:"font-semibold",children:"PIT-38 Czesc G"}),", w zaleznosci od zrodla. W przypadku dywidend z akcji notowanych na gieldach zagranicznych najczesciej stosuje sie PIT-36 z zalacznikiem PIT/ZG."]})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(M,{field:"Dochod",label:"Dywidendy brutto w PLN",value:v(z.report.dividends.total_gross_pln),description:"Suma dywidend brutto przeliczona na PLN wg kursow NBP"}),(0,a.jsx)(M,{field:"Podatek zaplacony za granica",label:"WHT (Withholding Tax)",value:v(z.report.dividends.total_wht_pln),description:"Podatek u zrodla pobrany za granica, do odliczenia od polskiego podatku"}),(0,a.jsx)(M,{field:"Podatek nalezny PL",label:"19% od dywidend brutto",value:v(z.report.dividends.total_polish_tax_due),description:"Polski podatek: 19% x dywidendy brutto PLN"}),(0,a.jsx)(M,{field:"Do zaplaty",label:"Roznica do wplaty",value:v(z.report.dividends.total_to_pay_pln),description:"max(0, podatek PL - WHT). Jesli WHT pokrywa caly podatek, wpisujesz 0.",highlight:!0})]})]}),z.report.pit_zg.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-orange-400 mb-3",children:"Zalacznik PIT/ZG -- Informacja o dochodach z zagranicy"}),(0,a.jsx)("div",{className:"rounded-lg bg-blue-500/10 border border-blue-500/20 px-4 py-3 mb-3",children:(0,a.jsxs)("p",{className:"text-xs text-blue-300",children:["Dla kazdego kraju, z ktorego uzyskales dochod, wypelniasz ",(0,a.jsx)("span",{className:"font-semibold",children:"osobny PIT/ZG"}),". Ponizej dane do wpisania w odpowiednie rubryki."]})}),z.report.pit_zg.map((e,t)=>(0,a.jsxs)("div",{className:"mb-4 last:mb-0",children:[(0,a.jsxs)("p",{className:"text-xs font-semibold text-slate-200 mb-2 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"bg-slate-700 text-slate-300 px-2 py-0.5 rounded text-[10px] font-mono",children:e.country_code}),e.country_name]}),(0,a.jsxs)("div",{className:"space-y-2 pl-4 border-l-2 border-slate-700",children:[0!==parseFloat(e.capital_gains_pln)&&(0,a.jsx)(M,{field:"Czesc C.1",label:"Dochod z odplatnego zbycia papierow",value:v(e.capital_gains_pln),description:"Zyski kapitalowe ze sprzedazy akcji/ETF w danym kraju"}),0!==parseFloat(e.dividend_income_pln)&&(0,a.jsx)(M,{field:"Czesc C.2",label:"Dochod z dywidend",value:v(e.dividend_income_pln),description:"Dywidendy brutto w PLN z emitentow zarejestrowanych w danym kraju"}),0!==parseFloat(e.tax_paid_abroad_pln)&&(0,a.jsx)(M,{field:"Czesc C.2",label:"Podatek zaplacony za granica",value:v(e.tax_paid_abroad_pln),description:"WHT pobrany u zrodla (do odliczenia od podatku polskiego)"})]})]},t))]}),(0,a.jsx)("div",{className:"rounded-lg bg-amber-500/10 border border-amber-500/20 px-4 py-3",children:(0,a.jsxs)("p",{className:"text-xs text-amber-300 space-y-1.5",children:[(0,a.jsx)("span",{className:"font-semibold block",children:"Wazne uwagi:"}),(0,a.jsx)("span",{className:"block",children:"1. Numery pozycji moga sie roznic w zaleznosci od wersji formularza PIT-38 (sprawdz aktualny formularz na e-Deklaracje)."}),(0,a.jsx)("span",{className:"block",children:"2. Jesli masz strate z lat ubieglych, wpisz ja w Czesci D (poz. 28-29). Mozesz odliczyc max 50% straty rocznie, przez 5 lat."}),(0,a.jsx)("span",{className:"block",children:"3. Termin zlozenia PIT-38: do 30 kwietnia roku nastepnego po roku podatkowym."}),(0,a.jsx)("span",{className:"block",children:"4. Wyniki sa pomocnicze — zweryfikuj z doradca podatkowym przed zlozeniem deklaracji."})]})})]})]}),eX&&eX.totalTrades>0&&(0,a.jsxs)("section",{className:"card space-y-4",children:[(0,a.jsxs)("button",{onClick:()=>es(e=>!e),className:"w-full flex items-center gap-2 text-left",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-teal-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,a.jsx)("h3",{className:"text-base font-semibold text-white flex-1",children:"Analiza portfela"}),(0,a.jsx)("svg",{className:"w-4 h-4 text-slate-400 transition-transform ".concat(et?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),et&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-slate-300 mb-3",children:"Statystyki ogolne"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[(0,a.jsxs)("div",{className:"bg-slate-800/60 rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Transakcji"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-slate-200",children:eX.totalTrades})]}),(0,a.jsxs)("div",{className:"bg-slate-800/60 rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Zyskownych"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-emerald-400",children:eX.profitableTrades})]}),(0,a.jsxs)("div",{className:"bg-slate-800/60 rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Stratnych"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-red-400",children:eX.lossTrades})]}),(0,a.jsxs)("div",{className:"bg-slate-800/60 rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Sredni zysk/strata"}),(0,a.jsx)("p",{className:"text-lg font-semibold ".concat(S(eX.avgProfit)),children:v(eX.avgProfit)})]}),(0,a.jsxs)("div",{className:"bg-slate-800/60 rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Unikalnych walorow"}),(0,a.jsx)("p",{className:"text-lg font-semibold text-slate-200",children:eX.uniqueSymbols})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{className:"lg:col-span-3 bg-slate-800/40 rounded-xl p-4",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-slate-300 mb-3",children:"Zysk/strata miesiecznie"}),(0,a.jsx)(g,{data:eX.monthlyPnlList})]}),(0,a.jsxs)("div",{className:"lg:col-span-2 bg-slate-800/40 rounded-xl p-4 flex flex-col items-center",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-slate-300 mb-3",children:"Skutecznosc transakcji"}),(0,a.jsx)(w,{wins:eX.profitableTrades,losses:eX.lossTrades,breakeven:eX.totalTrades-eX.profitableTrades-eX.lossTrades})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-slate-300 mb-3",children:"Zysk/strata per walor"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"data-table w-full text-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Symbol"}),(0,a.jsx)("th",{children:"Broker"}),(0,a.jsx)("th",{children:"Transakcji"}),(0,a.jsx)("th",{children:"Przychod PLN"}),(0,a.jsx)("th",{children:"Koszt PLN"}),(0,a.jsx)("th",{children:"Zysk/Strata PLN"})]})}),(0,a.jsx)("tbody",{children:eX.symbolPnlList.map((e,t)=>{var s;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-medium text-slate-200",children:e.symbol}),(0,a.jsx)("td",{children:(0,a.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded ".concat((null==(s=e.broker)?void 0:s.startsWith("EXANTE"))?"bg-violet-900/40 text-violet-300":"bg-emerald-900/40 text-emerald-300"),children:e.broker})}),(0,a.jsx)("td",{children:e.trades}),(0,a.jsx)("td",{children:v(e.revenue)}),(0,a.jsx)("td",{children:v(e.cost)}),(0,a.jsx)("td",{className:"font-medium ".concat(S(e.profit)),children:v(e.profit)})]},"".concat(e.symbol,"-").concat(e.broker,"-").concat(t))})})]})}),eX.symbolPnlList.length>1&&(0,a.jsxs)("div",{className:"bg-slate-800/40 rounded-xl p-4 mt-2",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-slate-300 mb-2",children:"Top 10 walorow (zysk/strata)"}),(0,a.jsx)(N,{data:eX.symbolPnlList})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-emerald-400 mb-3",children:"Top 5 najlepszych transakcji"}),(0,a.jsx)("div",{className:"space-y-2",children:eX.bestTrades.map((e,t)=>{var s;return(0,a.jsxs)("div",{className:"flex justify-between items-center bg-emerald-500/5 border border-emerald-500/10 rounded-lg px-3 py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-slate-200",children:e.symbol}),(0,a.jsx)("span",{className:"text-[9px] px-1 py-0.5 rounded ".concat((null==(s=e.broker)?void 0:s.startsWith("EXANTE"))?"bg-violet-900/40 text-violet-300":"bg-emerald-900/40 text-emerald-300"),children:e.broker||"?"}),(0,a.jsx)("span",{className:"text-xs text-slate-500",children:P(e.sell_date)})]}),(0,a.jsx)("span",{className:"text-sm font-semibold text-emerald-400",children:v(e.profit_pln)})]},t)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-red-400 mb-3",children:"Top 5 najgorszych transakcji"}),(0,a.jsx)("div",{className:"space-y-2",children:eX.worstTrades.map((e,t)=>{var s;return(0,a.jsxs)("div",{className:"flex justify-between items-center bg-red-500/5 border border-red-500/10 rounded-lg px-3 py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-slate-200",children:e.symbol}),(0,a.jsx)("span",{className:"text-[9px] px-1 py-0.5 rounded ".concat((null==(s=e.broker)?void 0:s.startsWith("EXANTE"))?"bg-violet-900/40 text-violet-300":"bg-emerald-900/40 text-emerald-300"),children:e.broker||"?"}),(0,a.jsx)("span",{className:"text-xs text-slate-500",children:P(e.sell_date)})]}),(0,a.jsx)("span",{className:"text-sm font-semibold text-red-400",children:v(e.profit_pln)})]},t)})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-slate-300 mb-3",children:"Prowizje brokerskie"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{className:"bg-slate-800/60 rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Prowizje kupna"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-slate-200",children:[_(eX.totalBuyCommission)," ",(0,a.jsx)("span",{className:"text-xs text-slate-500",children:"(waluta oryg.)"})]})]}),(0,a.jsxs)("div",{className:"bg-slate-800/60 rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Prowizje sprzedazy"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-slate-200",children:[_(eX.totalSellCommission)," ",(0,a.jsx)("span",{className:"text-xs text-slate-500",children:"(waluta oryg.)"})]})]}),(0,a.jsxs)("div",{className:"bg-slate-800/60 rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Lacznie"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-amber-400",children:[_(eX.totalBuyCommission+eX.totalSellCommission)," ",(0,a.jsx)("span",{className:"text-xs text-slate-500",children:"(waluta oryg.)"})]})]})]})]}),eX.divBySymbolList.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-slate-300 mb-3",children:"Dywidendy per walor"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"data-table w-full text-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Symbol"}),(0,a.jsx)("th",{children:"Broker"}),(0,a.jsx)("th",{children:"Wyplat"}),(0,a.jsx)("th",{children:"Brutto PLN"}),(0,a.jsx)("th",{children:"WHT PLN"}),(0,a.jsx)("th",{children:"Do zaplaty PL"})]})}),(0,a.jsx)("tbody",{children:eX.divBySymbolList.map(e=>{var t;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-medium text-slate-200",children:e.symbol}),(0,a.jsx)("td",{children:(0,a.jsx)("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold ".concat((null==(t=e.broker)?void 0:t.startsWith("EXANTE"))?"bg-violet-900/60 text-violet-300":"bg-emerald-900/60 text-emerald-300"),children:e.broker})}),(0,a.jsx)("td",{children:e.count}),(0,a.jsx)("td",{children:v(e.gross)}),(0,a.jsx)("td",{children:v(e.wht)}),(0,a.jsx)("td",{className:"text-amber-400 font-medium",children:v(e.toPay)})]},"".concat(e.symbol,"|").concat(e.broker))})})]})}),eX.divBySymbolList.length>1&&(0,a.jsxs)("div",{className:"bg-slate-800/40 rounded-xl p-4 mt-3",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-slate-300 mb-2",children:"Dywidendy — wykres"}),(0,a.jsx)(f,{data:eX.divBySymbolList})]})]}),Object.keys(eX.currencyStats).length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-slate-300 mb-3",children:"Obroty wg walut"}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:Object.entries(eX.currencyStats).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"bg-slate-800/60 rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-xs text-slate-400",children:t}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-slate-200",children:[s.buys+s.sells," ",(0,a.jsx)("span",{className:"text-xs text-slate-500",children:"transakcji"})]}),(0,a.jsxs)("p",{className:"text-xs text-slate-400 mt-1",children:["Obrot: ",v(s.volume)]})]},t)})})]})]})]}),z.report.portfolio&&(0,a.jsxs)("section",{className:"card space-y-4",children:[(0,a.jsxs)("button",{onClick:()=>ei(e=>!e),className:"w-full flex items-center gap-2 text-left",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,a.jsx)("h3",{className:"text-base font-semibold text-white flex-1",children:"Raport portfela — cala historia inwestycji"}),(0,a.jsx)("svg",{className:"w-4 h-4 text-slate-400 transition-transform ".concat(er?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),er&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:[(0,a.jsx)(I,{label:"Zainwestowano (kupna)",value:v(z.report.portfolio.metrics.total_invested_pln)}),(0,a.jsx)(I,{label:"Przychod ze sprzedazy",value:v(z.report.portfolio.metrics.total_revenue_pln)}),(0,a.jsx)(I,{label:"Zrealizowany zysk/strata",value:v(z.report.portfolio.metrics.total_realized_profit_pln),highlight:parseFloat(z.report.portfolio.metrics.total_realized_profit_pln)>0}),(0,a.jsx)(I,{label:"Prowizje lacznie",value:v(z.report.portfolio.metrics.total_commissions_pln)}),(0,a.jsx)(I,{label:"Dywidendy brutto",value:v(z.report.portfolio.metrics.total_dividends_gross_pln)}),(0,a.jsx)(I,{label:"WHT zaplacony",value:v(z.report.portfolio.metrics.total_wht_paid_pln)}),(0,a.jsx)(I,{label:"Transakcje",value:"".concat(z.report.portfolio.metrics.total_trades," (").concat(z.report.portfolio.metrics.winning_trades,"W / ").concat(z.report.portfolio.metrics.losing_trades,"L)")}),(0,a.jsx)(I,{label:"Win rate",value:"".concat(_(z.report.portfolio.metrics.win_rate_percent,1),"%")}),(0,a.jsx)(I,{label:"Sr. zysk na transakcje",value:v(z.report.portfolio.metrics.avg_profit_per_trade_pln)}),(0,a.jsx)(I,{label:"Sr. czas trzymania",value:"".concat(_(z.report.portfolio.metrics.avg_holding_period_days,0)," dni")}),(0,a.jsx)(I,{label:"Wiek konta",value:"".concat(z.report.portfolio.metrics.account_age_days," dni")}),(0,a.jsx)(I,{label:"Unikalne walory",value:"".concat(z.report.portfolio.metrics.unique_symbols_traded)})]}),z.report.portfolio.metrics.first_trade_date&&(0,a.jsxs)("p",{className:"text-[11px] text-slate-500",children:["Okres: ",P(z.report.portfolio.metrics.first_trade_date)," — ",P(z.report.portfolio.metrics.last_trade_date)]}),z.report.portfolio.year_summaries.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-indigo-300 mb-3",children:"Podsumowanie rok po roku"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"data-table w-full text-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Rok"}),(0,a.jsx)("th",{children:"Przychod PLN"}),(0,a.jsx)("th",{children:"Koszty PLN"}),(0,a.jsx)("th",{children:"Zysk/Strata PLN"}),(0,a.jsx)("th",{children:"Podatek 19%"}),(0,a.jsx)("th",{children:"Dyw. brutto PLN"}),(0,a.jsx)("th",{children:"WHT PLN"}),(0,a.jsx)("th",{children:"Dyw. do zaplaty"}),(0,a.jsx)("th",{children:"Trans."})]})}),(0,a.jsxs)("tbody",{children:[z.report.portfolio.year_summaries.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-semibold text-slate-200",children:e.year}),(0,a.jsx)("td",{children:v(e.revenue_pln)}),(0,a.jsx)("td",{children:v(e.costs_pln)}),(0,a.jsx)("td",{className:S(e.profit_pln),children:v(e.profit_pln)}),(0,a.jsx)("td",{children:v(e.tax_19_pln)}),(0,a.jsx)("td",{children:v(e.dividends_gross_pln)}),(0,a.jsx)("td",{children:v(e.dividends_wht_pln)}),(0,a.jsx)("td",{children:v(e.dividends_tax_to_pay_pln)}),(0,a.jsx)("td",{className:"text-center",children:e.num_trades})]},e.year)),z.report.portfolio.year_summaries.length>1&&(()=>{let e=z.report.portfolio.year_summaries,t=e.reduce((e,t)=>e+parseFloat(t.revenue_pln),0),s=e.reduce((e,t)=>e+parseFloat(t.costs_pln),0),l=e.reduce((e,t)=>e+parseFloat(t.profit_pln),0),r=e.reduce((e,t)=>e+parseFloat(t.dividends_gross_pln),0),i=e.reduce((e,t)=>e+parseFloat(t.dividends_wht_pln),0),n=e.reduce((e,t)=>e+t.num_trades,0);return(0,a.jsxs)("tr",{className:"border-t border-slate-600 font-semibold",children:[(0,a.jsx)("td",{className:"text-slate-200",children:"Razem"}),(0,a.jsx)("td",{children:v(t.toFixed(2))}),(0,a.jsx)("td",{children:v(s.toFixed(2))}),(0,a.jsx)("td",{className:S(l.toFixed(2)),children:v(l.toFixed(2))}),(0,a.jsx)("td",{children:"—"}),(0,a.jsx)("td",{children:v(r.toFixed(2))}),(0,a.jsx)("td",{children:v(i.toFixed(2))}),(0,a.jsx)("td",{children:"—"}),(0,a.jsx)("td",{className:"text-center",children:n})]})})()]})]})})]}),z.report.portfolio.symbol_summaries.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-semibold text-indigo-300 mb-3",children:"Podsumowanie per walor (cala historia)"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"data-table w-full text-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Symbol"}),(0,a.jsx)("th",{children:"Kupiono"}),(0,a.jsx)("th",{children:"Sprzedano"}),(0,a.jsx)("th",{children:"Pozostalo"}),(0,a.jsx)("th",{children:"Sr. cena"}),(0,a.jsx)("th",{children:"Waluta"}),(0,a.jsx)("th",{children:"Koszt kupna PLN"}),(0,a.jsx)("th",{children:"Przychod PLN"}),(0,a.jsx)("th",{children:"Zreal. Z/S PLN"}),(0,a.jsx)("th",{children:"Dywidendy PLN"}),(0,a.jsx)("th",{children:"Pierwszy"}),(0,a.jsx)("th",{children:"Ostatni"}),(0,a.jsx)("th",{children:"Trans."})]})}),(0,a.jsx)("tbody",{children:z.report.portfolio.symbol_summaries.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-semibold text-slate-200",children:e.symbol}),(0,a.jsx)("td",{children:_(e.total_bought_qty,4)}),(0,a.jsx)("td",{children:_(e.total_sold_qty,4)}),(0,a.jsx)("td",{className:parseFloat(e.remaining_qty)>0?"text-cyan-400 font-medium":"",children:_(e.remaining_qty,4)}),(0,a.jsx)("td",{children:_(e.avg_buy_price,2)}),(0,a.jsx)("td",{children:e.currency}),(0,a.jsx)("td",{children:v(e.total_buy_cost_pln)}),(0,a.jsx)("td",{children:v(e.total_sell_revenue_pln)}),(0,a.jsx)("td",{className:S(e.realized_pnl_pln),children:v(e.realized_pnl_pln)}),(0,a.jsx)("td",{children:parseFloat(e.dividends_pln)>0?v(e.dividends_pln):"—"}),(0,a.jsx)("td",{children:P(e.first_trade_date)}),(0,a.jsx)("td",{children:P(e.last_trade_date)}),(0,a.jsx)("td",{className:"text-center",children:e.trades_count})]},e.symbol))})]})})]})]})]}),z.report.open_positions&&z.report.open_positions.length>0&&(0,a.jsxs)("section",{className:"card space-y-4",children:[(0,a.jsxs)("h3",{className:"text-base font-semibold text-white flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-cyan-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),"Otwarte pozycje (niesprzedane)"]}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Walory kupione, ktore nie zostaly jeszcze sprzedane. Zostana uwzglednione w FIFO przy przyszlych sprzedazach."}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"data-table w-full text-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Symbol"}),(0,a.jsx)("th",{children:"Broker"}),(0,a.jsx)("th",{children:"Ilosc"}),(0,a.jsx)("th",{children:"Data kupna"}),(0,a.jsx)("th",{children:"Cena kupna"}),(0,a.jsx)("th",{children:"Waluta"}),(0,a.jsx)("th",{children:"Kurs NBP"}),(0,a.jsx)("th",{children:"Koszt PLN"})]})}),(0,a.jsx)("tbody",{children:z.report.open_positions.map((e,t)=>{var s;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-medium text-slate-200",children:e.symbol}),(0,a.jsx)("td",{children:(0,a.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded ".concat((null==(s=e.broker)?void 0:s.startsWith("EXANTE"))?"bg-violet-900/40 text-violet-300":"bg-emerald-900/40 text-emerald-300"),children:e.broker||"?"})}),(0,a.jsx)("td",{children:_(e.quantity,4)}),(0,a.jsx)("td",{children:P(e.buy_date)}),(0,a.jsx)("td",{children:_(e.buy_price,4)}),(0,a.jsx)("td",{children:e.currency}),(0,a.jsx)("td",{children:_(e.nbp_rate,4)}),(0,a.jsx)("td",{children:v(e.cost_pln)})]},t)})})]})})]}),z.report.open_short_positions&&z.report.open_short_positions.length>0&&(0,a.jsxs)("section",{className:"card space-y-4",children:[(0,a.jsxs)("h3",{className:"text-base font-semibold text-white flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"})}),"Otwarte krotkie pozycje (wystawione opcje)"]}),(0,a.jsx)("p",{className:"text-xs text-slate-400",children:"Opcje/derywaty sprzedane (wystawione), ktore nie zostaly jeszcze zamkniete ani nie wygasly. Nie podlegaja opodatkowaniu do zamkniecia pozycji."}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"data-table w-full text-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Symbol"}),(0,a.jsx)("th",{children:"Broker"}),(0,a.jsx)("th",{children:"Ilosc"}),(0,a.jsx)("th",{children:"Data sprzedazy"}),(0,a.jsx)("th",{children:"Cena sprzedazy"}),(0,a.jsx)("th",{children:"Waluta"}),(0,a.jsx)("th",{children:"Kurs NBP"}),(0,a.jsx)("th",{children:"Przychod PLN"})]})}),(0,a.jsx)("tbody",{children:z.report.open_short_positions.map((e,t)=>{var s;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-medium text-slate-200",children:e.symbol}),(0,a.jsx)("td",{children:(0,a.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded ".concat((null==(s=e.broker)?void 0:s.startsWith("EXANTE"))?"bg-violet-900/40 text-violet-300":"bg-emerald-900/40 text-emerald-300"),children:e.broker||"?"})}),(0,a.jsx)("td",{children:_(e.quantity,4)}),(0,a.jsx)("td",{children:P(e.sell_date)}),(0,a.jsx)("td",{children:_(e.sell_price,4)}),(0,a.jsx)("td",{children:e.currency}),(0,a.jsx)("td",{children:_(e.nbp_rate,4)}),(0,a.jsx)("td",{children:v(e.revenue_pln)})]},t)})})]})})]}),z.report.warnings.length>0&&(0,a.jsxs)("section",{className:"rounded-xl border border-amber-500/30 bg-amber-500/5 px-6 py-5 space-y-3",children:[(0,a.jsxs)("h3",{className:"text-base font-semibold text-amber-400 flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Ostrzezenia"]}),(0,a.jsx)("ul",{className:"space-y-1.5",children:z.report.warnings.map((e,t)=>(0,a.jsxs)("li",{className:"text-sm text-amber-200/80 flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-amber-500 mt-0.5",children:"•"}),e]},t))})]}),z.report.capital_gains.matches.length>0&&(0,a.jsxs)("section",{className:"card space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"text-base font-semibold text-white flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),"Szczegoly parowan FIFO"]}),(0,a.jsxs)("button",{onClick:()=>V(e=>!e),className:"text-sm text-blue-400 hover:text-blue-300 transition-colors flex items-center gap-1",children:[(0,a.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(U?"rotate-90":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}),U?"Zwiń":"Rozwin (".concat(z.report.capital_gains.matches.length," parowan)")]})]}),U&&(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"data-table w-full text-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Symbol"}),(0,a.jsx)("th",{children:"Broker"}),(0,a.jsx)("th",{children:"Ilosc"}),(0,a.jsx)("th",{children:"Data kupna"}),(0,a.jsx)("th",{children:"Cena kupna"}),(0,a.jsx)("th",{children:"Waluta"}),(0,a.jsx)("th",{children:"Kurs NBP (K)"}),(0,a.jsx)("th",{children:"Koszt PLN"}),(0,a.jsx)("th",{children:"Data sprzedazy"}),(0,a.jsx)("th",{children:"Cena sprzedazy"}),(0,a.jsx)("th",{children:"Kurs NBP (S)"}),(0,a.jsx)("th",{children:"Przychod PLN"}),(0,a.jsx)("th",{children:"Zysk/Strata PLN"})]})}),(0,a.jsx)("tbody",{children:z.report.capital_gains.matches.map((e,t)=>{var s;return(0,a.jsxs)("tr",{className:e.is_orphan?"bg-amber-500/5":"",children:[(0,a.jsxs)("td",{className:"font-medium text-slate-200",children:[e.symbol,e.is_orphan&&(0,a.jsx)("span",{className:"ml-1.5 text-[10px] bg-amber-500/20 text-amber-400 px-1.5 py-0.5 rounded-full",children:"brak kupna"})]}),(0,a.jsx)("td",{children:(0,a.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded ".concat((null==(s=e.broker)?void 0:s.startsWith("EXANTE"))?"bg-violet-900/40 text-violet-300":"bg-emerald-900/40 text-emerald-300"),children:e.broker||"?"})}),(0,a.jsx)("td",{children:_(e.quantity,4)}),(0,a.jsx)("td",{children:e.is_orphan?"-":P(e.buy_date)}),(0,a.jsx)("td",{children:e.is_orphan?"-":_(e.buy_price,4)}),(0,a.jsx)("td",{children:e.buy_currency}),(0,a.jsx)("td",{children:e.is_orphan?"-":_(e.buy_nbp_rate,4)}),(0,a.jsx)("td",{children:v(e.buy_cost_pln)}),(0,a.jsx)("td",{children:P(e.sell_date)}),(0,a.jsx)("td",{children:_(e.sell_price,4)}),(0,a.jsx)("td",{children:_(e.sell_nbp_rate,4)}),(0,a.jsx)("td",{children:v(e.sell_revenue_pln)}),(0,a.jsx)("td",{className:"font-medium ".concat(S(e.profit_pln)),children:v(e.profit_pln)})]},t)})})]})})]})]}),ey&&!z&&(0,a.jsx)("div",{className:"rounded-xl border border-red-500/30 bg-red-500/10 px-6 py-4 text-sm text-red-300",children:(0,a.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)("p",{children:ey})]})}),eb&&(0,a.jsxs)("div",{ref:eq,className:"space-y-6",children:[(0,a.jsxs)("section",{className:"card space-y-4",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold text-indigo-400 flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Analiza portfela – ",eb.report.account_name]}),(0,a.jsxs)("p",{className:"text-xs text-slate-400",children:["Okres: ",eb.report.period_start," – ",eb.report.period_end," | Waluta bazowa: ",eb.report.base_currency]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:[(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:"NAV poczatkowy"}),(0,a.jsx)("div",{className:"text-sm font-semibold text-white",children:T(eb.report.key_statistics.beginning_nav)})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:"NAV koncowy"}),(0,a.jsx)("div",{className:"text-sm font-semibold text-emerald-400",children:T(eb.report.key_statistics.ending_nav)})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:"Zwrot calkowity"}),(0,a.jsx)("div",{className:"text-sm font-semibold ".concat(S(eb.report.key_statistics.cumulative_return_pct)),children:L(eb.report.key_statistics.cumulative_return_pct)})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:"MTM (zysk rynkowy)"}),(0,a.jsx)("div",{className:"text-sm font-semibold ".concat(S(eb.report.key_statistics.mtm)),children:T(eb.report.key_statistics.mtm)})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:"Wplaty / Wyplaty"}),(0,a.jsx)("div",{className:"text-sm font-semibold text-white",children:T(eb.report.key_statistics.deposits_withdrawals)})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:"Dywidendy"}),(0,a.jsx)("div",{className:"text-sm font-semibold text-emerald-400",children:T(eb.report.key_statistics.dividends)})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:"Najlepszy dzien"}),(0,a.jsx)("div",{className:"text-sm font-semibold text-emerald-400",children:L(eb.report.key_statistics.best_return_pct)})]}),(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-[10px] text-slate-500 uppercase tracking-wider",children:"Najgorszy dzien"}),(0,a.jsx)("div",{className:"text-sm font-semibold text-red-400",children:L(eb.report.key_statistics.worst_return_pct)})]})]})]}),eb.report.monthly_returns.length>0&&(0,a.jsxs)("section",{className:"card space-y-4",children:[(0,a.jsxs)("button",{onClick:()=>eS(e=>!e),className:"w-full flex items-center gap-2 text-left",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,a.jsx)("h3",{className:"text-base font-semibold text-white flex-1",children:"Zwroty miesieczne / kwartalne / roczne"}),(0,a.jsx)("svg",{className:"w-4 h-4 text-slate-400 transition-transform ".concat(eP?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),eP&&(0,a.jsxs)("div",{className:"space-y-4",children:[(()=>{let e=eb.report.monthly_returns.filter(e=>"year"===e.period_type&&null!==e.return_pct);return 0===e.length?null:(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-xs font-semibold text-slate-400 mb-2 uppercase",children:"Roczne"}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 gap-2",children:e.map((e,t)=>(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-2 text-center",children:[(0,a.jsx)("div",{className:"text-[10px] text-slate-500",children:e.period}),(0,a.jsx)("div",{className:"text-sm font-semibold ".concat(S(e.return_pct||"0")),children:L(e.return_pct)})]},t))})]})})(),(()=>{let e=eb.report.monthly_returns.filter(e=>"quarter"===e.period_type&&null!==e.return_pct);return 0===e.length?null:(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-xs font-semibold text-slate-400 mb-2 uppercase",children:"Kwartalne"}),(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:e.map((e,t)=>(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-2 text-center",children:[(0,a.jsx)("div",{className:"text-[10px] text-slate-500",children:e.period}),(0,a.jsx)("div",{className:"text-sm font-semibold ".concat(S(e.return_pct||"0")),children:L(e.return_pct)})]},t))})]})})(),(()=>{let e=eb.report.monthly_returns.filter(e=>"month"===e.period_type&&null!==e.return_pct);return 0===e.length?null:(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-xs font-semibold text-slate-400 mb-2 uppercase",children:"Miesieczne"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"data-table w-full text-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left",children:"Okres"}),(0,a.jsx)("th",{className:"text-right",children:"Zwrot %"})]})}),(0,a.jsx)("tbody",{children:e.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.period}),(0,a.jsx)("td",{className:"text-right font-medium ".concat(S(e.return_pct||"0")),children:L(e.return_pct)})]},t))})]})})]})})()]})]}),eb.report.symbol_performance.length>0&&(0,a.jsxs)("section",{className:"card space-y-4",children:[(0,a.jsxs)("button",{onClick:()=>eL(e=>!e),className:"w-full flex items-center gap-2 text-left",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),(0,a.jsxs)("h3",{className:"text-base font-semibold text-white flex-1",children:["Wyniki wg instrumentu (",eb.report.symbol_performance.length,")"]}),(0,a.jsx)("svg",{className:"w-4 h-4 text-slate-400 transition-transform ".concat(eT?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),eT&&(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"data-table w-full text-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left",children:"Symbol"}),(0,a.jsx)("th",{className:"text-left",children:"Opis"}),(0,a.jsx)("th",{className:"text-left",children:"Typ"}),(0,a.jsx)("th",{className:"text-right",children:"Waga %"}),(0,a.jsx)("th",{className:"text-right",children:"Zwrot %"}),(0,a.jsx)("th",{className:"text-right",children:"Wklad %"}),(0,a.jsx)("th",{className:"text-right",children:"Niezreal. Z/S"}),(0,a.jsx)("th",{className:"text-right",children:"Zreal. Z/S"}),(0,a.jsx)("th",{className:"text-center",children:"Otwarta"})]})}),(0,a.jsx)("tbody",{children:eb.report.symbol_performance.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-medium text-white",children:e.symbol}),(0,a.jsx)("td",{className:"text-slate-400 max-w-[150px] truncate",children:e.description}),(0,a.jsx)("td",{className:"text-slate-400",children:e.financial_instrument}),(0,a.jsx)("td",{className:"text-right",children:_(e.avg_weight_pct,1)}),(0,a.jsx)("td",{className:"text-right font-medium ".concat(S(e.return_pct)),children:L(e.return_pct)}),(0,a.jsx)("td",{className:"text-right ".concat(S(e.contribution_pct)),children:L(e.contribution_pct)}),(0,a.jsx)("td",{className:"text-right ".concat(S(e.unrealized_pnl)),children:T(e.unrealized_pnl)}),(0,a.jsx)("td",{className:"text-right ".concat(S(e.realized_pnl)),children:T(e.realized_pnl)}),(0,a.jsx)("td",{className:"text-center",children:e.is_open?"Tak":"Nie"})]},t))})]})})]}),eb.report.open_positions.length>0&&(0,a.jsxs)("section",{className:"card space-y-4",children:[(0,a.jsxs)("button",{onClick:()=>ew(e=>!e),className:"w-full flex items-center gap-2 text-left",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),(0,a.jsxs)("h3",{className:"text-base font-semibold text-white flex-1",children:["Otwarte pozycje (",eb.report.open_positions.length,")"]}),(0,a.jsx)("svg",{className:"w-4 h-4 text-slate-400 transition-transform ".concat(eg?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),eg&&(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"data-table w-full text-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left",children:"Symbol"}),(0,a.jsx)("th",{className:"text-left",children:"Opis"}),(0,a.jsx)("th",{className:"text-left",children:"Sektor"}),(0,a.jsx)("th",{className:"text-right",children:"Ilosc"}),(0,a.jsx)("th",{className:"text-right",children:"Cena"}),(0,a.jsx)("th",{className:"text-right",children:"Wartosc"}),(0,a.jsx)("th",{className:"text-right",children:"Koszt"}),(0,a.jsx)("th",{className:"text-right",children:"Niezreal. Z/S"})]})}),(0,a.jsx)("tbody",{children:[...eb.report.open_positions].sort((e,t)=>parseFloat(t.value)-parseFloat(e.value)).map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-medium text-white",children:e.symbol}),(0,a.jsx)("td",{className:"text-slate-400 max-w-[150px] truncate",children:e.description}),(0,a.jsx)("td",{className:"text-slate-400",children:e.sector||"-"}),(0,a.jsx)("td",{className:"text-right",children:_(e.quantity,2)}),(0,a.jsx)("td",{className:"text-right",children:_(e.close_price,2)}),(0,a.jsx)("td",{className:"text-right font-medium",children:T(e.value)}),(0,a.jsx)("td",{className:"text-right",children:T(e.cost_basis)}),(0,a.jsx)("td",{className:"text-right font-medium ".concat(S(e.unrealized_pnl)),children:T(e.unrealized_pnl)})]},t))}),(0,a.jsx)("tfoot",{children:(0,a.jsxs)("tr",{className:"border-t border-slate-700 font-semibold",children:[(0,a.jsx)("td",{colSpan:5,className:"text-right text-slate-400",children:"Razem:"}),(0,a.jsx)("td",{className:"text-right text-white",children:T(eb.report.open_positions.reduce((e,t)=>e+parseFloat(t.value),0))}),(0,a.jsx)("td",{className:"text-right",children:T(eb.report.open_positions.reduce((e,t)=>e+parseFloat(t.cost_basis),0))}),(0,a.jsx)("td",{className:"text-right ".concat(S(eb.report.open_positions.reduce((e,t)=>e+parseFloat(t.unrealized_pnl),0))),children:T(eb.report.open_positions.reduce((e,t)=>e+parseFloat(t.unrealized_pnl),0))})]})})]})})]}),eb.report.trade_summaries.length>0&&(0,a.jsxs)("section",{className:"card space-y-4",children:[(0,a.jsxs)("button",{onClick:()=>eW(e=>!e),className:"w-full flex items-center gap-2 text-left",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})}),(0,a.jsxs)("h3",{className:"text-base font-semibold text-white flex-1",children:["Podsumowanie transakcji (",eb.report.trade_summaries.length,")"]}),(0,a.jsx)("svg",{className:"w-4 h-4 text-slate-400 transition-transform ".concat(eC?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),eC&&(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"data-table w-full text-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left",children:"Symbol"}),(0,a.jsx)("th",{className:"text-left",children:"Opis"}),(0,a.jsx)("th",{className:"text-left",children:"Waluta"}),(0,a.jsx)("th",{className:"text-right",children:"Kupiono (szt.)"}),(0,a.jsx)("th",{className:"text-right",children:"Sr. cena kupna"}),(0,a.jsx)("th",{className:"text-right",children:"Koszt kupna"}),(0,a.jsx)("th",{className:"text-right",children:"Sprzedano (szt.)"}),(0,a.jsx)("th",{className:"text-right",children:"Sr. cena sprzed."}),(0,a.jsx)("th",{className:"text-right",children:"Przychod sprzed."})]})}),(0,a.jsx)("tbody",{children:eb.report.trade_summaries.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-medium text-white",children:e.symbol}),(0,a.jsx)("td",{className:"text-slate-400 max-w-[150px] truncate",children:e.description}),(0,a.jsx)("td",{className:"text-slate-400",children:e.currency||"-"}),(0,a.jsx)("td",{className:"text-right",children:_(e.quantity_bought,2)}),(0,a.jsx)("td",{className:"text-right",children:_(e.avg_buy_price,2)}),(0,a.jsx)("td",{className:"text-right text-red-400",children:_(e.proceeds_bought,2)}),(0,a.jsx)("td",{className:"text-right",children:_(Math.abs(parseFloat(e.quantity_sold)),2)}),(0,a.jsx)("td",{className:"text-right",children:_(e.avg_sell_price,2)}),(0,a.jsx)("td",{className:"text-right text-emerald-400",children:_(e.proceeds_sold,2)})]},t))})]})})]}),eb.report.dividends_list.length>0&&(0,a.jsxs)("section",{className:"card space-y-4",children:[(0,a.jsxs)("button",{onClick:()=>ef(e=>!e),className:"w-full flex items-center gap-2 text-left",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsxs)("h3",{className:"text-base font-semibold text-white flex-1",children:["Dywidendy (",eb.report.dividends_list.length,") – lacznie: ",T(eb.report.dividends_list.reduce((e,t)=>e+parseFloat(t.amount),0))]}),(0,a.jsx)("svg",{className:"w-4 h-4 text-slate-400 transition-transform ".concat(eN?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),eN&&(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"data-table w-full text-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left",children:"Data wyplaty"}),(0,a.jsx)("th",{className:"text-left",children:"Symbol"}),(0,a.jsx)("th",{className:"text-left",children:"Typ"}),(0,a.jsx)("th",{className:"text-right",children:"Ilosc"}),(0,a.jsx)("th",{className:"text-right",children:"Na akcje"}),(0,a.jsx)("th",{className:"text-right",children:"Kwota"})]})}),(0,a.jsx)("tbody",{children:eb.report.dividends_list.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.pay_date}),(0,a.jsx)("td",{className:"font-medium text-white",children:e.symbol}),(0,a.jsx)("td",{className:"text-slate-400",children:e.note||"Dividend"}),(0,a.jsx)("td",{className:"text-right",children:_(e.quantity,2)}),(0,a.jsx)("td",{className:"text-right",children:_(e.dividend_per_share,4)}),(0,a.jsx)("td",{className:"text-right font-medium ".concat(S(e.amount)),children:T(e.amount)})]},t))})]})})]}),eb.report.deposits.length>0&&(0,a.jsxs)("section",{className:"card space-y-4",children:[(0,a.jsxs)("button",{onClick:()=>e_(e=>!e),className:"w-full flex items-center gap-2 text-left",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),(0,a.jsxs)("h3",{className:"text-base font-semibold text-white flex-1",children:["Wplaty i wyplaty (",eb.report.deposits.length,")"]}),(0,a.jsx)("svg",{className:"w-4 h-4 text-slate-400 transition-transform ".concat(ev?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),ev&&(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"data-table w-full text-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left",children:"Data"}),(0,a.jsx)("th",{className:"text-left",children:"Typ"}),(0,a.jsx)("th",{className:"text-left",children:"Opis"}),(0,a.jsx)("th",{className:"text-right",children:"Kwota"})]})}),(0,a.jsx)("tbody",{children:eb.report.deposits.map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.entry_date}),(0,a.jsx)("td",{className:"font-medium ".concat("DEPOSIT"===e.deposit_type?"text-emerald-400":"TRNSFROUT"===e.deposit_type?"text-red-400":"text-slate-300"),children:e.deposit_type}),(0,a.jsx)("td",{className:"text-slate-400 max-w-[250px] truncate",children:e.description}),(0,a.jsx)("td",{className:"text-right font-medium ".concat(S(e.amount)),children:T(e.amount)})]},t))})]})})]}),eb.report.warnings.length>0&&(0,a.jsxs)("section",{className:"rounded-xl border border-amber-500/30 bg-amber-500/10 px-6 py-4",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-amber-400 mb-2",children:"Ostrzezenia"}),(0,a.jsx)("ul",{className:"text-xs text-amber-300 space-y-1",children:eb.report.warnings.map((e,t)=>(0,a.jsxs)("li",{children:["• ",e]},t))})]})]})]}),(0,a.jsx)("section",{className:"max-w-5xl mx-auto w-full px-6 pb-10",children:(0,a.jsxs)("div",{className:"card space-y-4",children:[(0,a.jsxs)("button",{onClick:()=>eo(e=>!e),className:"w-full flex items-center gap-2 text-left",children:[(0,a.jsx)("svg",{className:"w-5 h-5 text-violet-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),(0,a.jsx)("h3",{className:"text-base font-semibold text-white flex-1",children:"Baza wiedzy inwestora"}),(0,a.jsx)("svg",{className:"w-4 h-4 text-slate-400 transition-transform ".concat(en?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),en&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(D,{title:"Jak pobrac dane z brokera? (krok po kroku)",id:"broker-guide",activeId:ed,onToggle:ec,children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-sm font-semibold text-blue-400 mb-1 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"bg-blue-500/15 text-blue-400 text-[10px] font-bold px-2 py-0.5 rounded",children:"IBKR"}),"Interactive Brokers — Akcje (Flex Query)"]}),(0,a.jsx)("p",{className:"text-[11px] text-slate-500 mb-3",children:"Flex Query pozwala wygenerowac precyzyjny raport z transakcjami. Akcje i dywidendy to OSOBNE raporty — najpierw eksportuj akcje."}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(H,{step:1,text:"Zaloguj sie do Client Portal i przejdz do: Performance & Reports > Flex Queries"}),(0,a.jsx)(H,{step:2,text:'Kliknij "Create" aby stworzyc nowy Flex Query'}),(0,a.jsx)(H,{step:3,text:'Nadaj nazwe "stocks" i w sekcji Selections wybierz "Trades"'}),(0,a.jsx)(H,{step:4,text:'Zaznacz "Select All" dla wszystkich kolumn, kliknij "Save"'}),(0,a.jsx)(H,{step:5,text:'Dodaj tez: Corporate Actions (splity, spin-offy) i Transfers — rowniez "Select All" i Save'}),(0,a.jsx)(H,{step:6,text:'Dodaj swoje konto, Format: "CSV", Include column headers: "Yes", kliknij "Continue"'}),(0,a.jsx)(H,{step:7,text:'Kliknij "Create" aby zapisac raport'}),(0,a.jsx)(H,{step:8,text:'Przy nazwie raportu kliknij strzalke > "Custom Date Range" > ustaw zakres (max 365 dni) > "Run"'})]}),(0,a.jsx)("div",{className:"mt-3 rounded-lg bg-blue-500/10 border border-blue-500/20 px-3 py-2",children:(0,a.jsxs)("p",{className:"text-[11px] text-blue-300",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Wazne:"}),' Eksportuj raporty za WSZYSTKIE lata wstecz (gdy byly transakcje). Max 365 dni na plik — generuj osobno za kazdy rok. Jesli migrowano konto — w Select Account(s) zaznacz filtry "Open" i "Migrated" aby uwzglednic wszystkie konta.']})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-sm font-semibold text-blue-400 mb-1 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"bg-blue-500/15 text-blue-400 text-[10px] font-bold px-2 py-0.5 rounded",children:"IBKR"}),"Interactive Brokers — Dywidendy (Flex Query)"]}),(0,a.jsx)("p",{className:"text-[11px] text-slate-500 mb-3",children:"Osobny raport Flex Query dla dywidend i podatku u zrodla (WHT)."}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(H,{step:1,text:'Performance & Reports > Flex Queries > "Create"'}),(0,a.jsx)(H,{step:2,text:'Nazwa: "dividends", w Selections wybierz "Cash Transactions"'}),(0,a.jsx)(H,{step:3,text:'W Options zaznacz wszystko POZA "Summary", nastepnie "Select All" kolumn, Save'}),(0,a.jsx)(H,{step:4,text:'Dodaj konto, Format: "CSV", Include column headers: "Yes", Continue'}),(0,a.jsx)(H,{step:5,text:'Kliknij "Create"'}),(0,a.jsx)(H,{step:6,text:'Przy nazwie raportu kliknij strzalke > "Custom Date Range" > ustaw rok > "Run"'})]}),(0,a.jsx)("div",{className:"mt-3 rounded-lg bg-emerald-500/10 border border-emerald-500/20 px-3 py-2",children:(0,a.jsxs)("p",{className:"text-[11px] text-emerald-300",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Wgraj OBA pliki"})," (akcje + dywidendy) do TaxPilot naraz. System automatycznie rozpozna typ raportu i polaczy dane."]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-sm font-semibold text-purple-400 mb-1 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"bg-purple-500/15 text-purple-400 text-[10px] font-bold px-2 py-0.5 rounded",children:"EXANTE"}),"Exante — Raport transakcji finansowych"]}),(0,a.jsx)("p",{className:"text-[11px] text-slate-500 mb-3",children:"Exante pozwala wygenerowac raport niestandardowy (Custom Report) zawierajacy cala historie transakcji."}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(H,{step:1,text:"Zaloguj sie do panelu handlowego Exante: exante.eu"}),(0,a.jsx)(H,{step:2,text:'Z menu bocznego wybierz "Raporty" (Reports), nastepnie "Raporty niestandardowe" (Custom Reports)'}),(0,a.jsx)(H,{step:3,text:'Kliknij "Dodaj personalizowany raport" (Add Custom Report)'}),(0,a.jsx)(H,{step:4,text:'Waluta: wybierz "USD"'}),(0,a.jsx)(H,{step:5,text:'Format: wybierz "CSV"'}),(0,a.jsx)(H,{step:6,text:'Typ: wybierz "Transakcje finansowe" (Financial Transactions)'}),(0,a.jsx)(H,{step:7,text:'Zakres dat: kliknij "+ Dodaj" i dodaj pelne lata — od 1 stycznia do 31 grudnia — od roku zalozenia konta do najnowszej daty. Np.: 2021-01-01 do 2021-12-31, potem 2022-01-01 do 2022-12-31, itd. Zakresy nie moga sie nakladac!'}),(0,a.jsx)(H,{step:8,text:'Kliknij "Generate" — poczekaj chwile, odswierz strone i pobierz wygenerowany plik CSV'}),(0,a.jsx)(H,{step:9,text:"Wgraj pobrany plik do TaxPilot"})]}),(0,a.jsx)("div",{className:"mt-3 rounded-lg bg-purple-500/10 border border-purple-500/20 px-3 py-2",children:(0,a.jsxs)("p",{className:"text-[11px] text-purple-300",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Wazne:"})," Raport musi obejmowac cala historie od poczatku konta, aby kalkulator mogl prawidlowo obliczyc podatek metoda FIFO. Exante eksportuje wszystkie typy transakcji w jednym pliku (kupna, sprzedaze, dywidendy, WHT, forex). TaxPilot automatycznie odfiltruje transakcje forex."]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-sm font-semibold text-orange-400 mb-1 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"bg-orange-500/15 text-orange-400 text-[10px] font-bold px-2 py-0.5 rounded",children:"REVOLUT"}),"Revolut — Wyciag z inwestycji"]}),(0,a.jsx)("p",{className:"text-[11px] text-slate-500 mb-3",children:"Revolut udostepnia wyciag z transakcji gieldowych w formacie CSV."}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(H,{step:1,text:"Otworz aplikacje Revolut lub zaloguj sie na app.revolut.com"}),(0,a.jsx)(H,{step:2,text:'Przejdz do zakladki "Invest" / "Inwestycje"'}),(0,a.jsx)(H,{step:3,text:'Kliknij ikone "..." (wiecej) lub "Statements" / "Wyciagi"'}),(0,a.jsx)(H,{step:4,text:'Wybierz "Profit & Loss Statement" lub "Account Statement"'}),(0,a.jsx)(H,{step:5,text:"Ustaw zakres dat: caly rok (np. 01.01.2024 - 31.12.2024)"}),(0,a.jsx)(H,{step:6,text:"Format: CSV (lub Excel)"}),(0,a.jsx)(H,{step:7,text:"Pobierz plik i wgraj do TaxPilot"})]}),(0,a.jsx)("div",{className:"mt-3 rounded-lg bg-amber-500/10 border border-amber-500/20 px-3 py-2",children:(0,a.jsxs)("p",{className:"text-[11px] text-amber-300",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Uwaga Revolut:"}),' Revolut czesto zmienia format eksportu. Jesli TaxPilot nie rozpozna pliku, sprobuj pobrac "Trading Activity Statement" zamiast standardowego wyciagu. W razie problemow uzyj formularza recznego kupna.']})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-sm font-semibold text-green-400 mb-1 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"bg-green-500/15 text-green-400 text-[10px] font-bold px-2 py-0.5 rounded",children:"ETORO"}),"eToro — Wyciag z konta"]}),(0,a.jsx)("p",{className:"text-[11px] text-slate-500 mb-3",children:"eToro pozwala pobrac wyciag z konta (Account Statement) w formacie Excel."}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(H,{step:1,text:'Zaloguj sie na konto eToro i przejdz do zakladki "Portfel" / "Portfolio"'}),(0,a.jsx)(H,{step:2,text:'Zmien widok na "Historia" / "History"'}),(0,a.jsx)(H,{step:3,text:'Kliknij przycisk z dodatkowymi opcjami i wybierz "Wyciag z Konta" / "Account Statement"'}),(0,a.jsx)(H,{step:4,text:"Ustaw mozliwie najdluzszy zakres dat — cala historia transakcji od poczatku konta"}),(0,a.jsx)(H,{step:5,text:"Pobierz plik w formacie .xls lub .xlsx"}),(0,a.jsx)(H,{step:6,text:"Wgraj plik do TaxPilot"})]}),(0,a.jsx)("div",{className:"mt-3 rounded-lg bg-green-500/10 border border-green-500/20 px-3 py-2",children:(0,a.jsxs)("p",{className:"text-[11px] text-green-300",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Wazne:"})," Dlugi zakres dat jest niezbedny do prawidlowego rozpoznania otwartych pozycji i obliczenia podatku metoda FIFO. Zachowaj plik w oryginalnym formacie (.xls/.xlsx)."]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-sm font-semibold text-sky-400 mb-1 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"bg-sky-500/15 text-sky-400 text-[10px] font-bold px-2 py-0.5 rounded",children:"FREEDOM24"}),"Freedom24 — Raport brokera"]}),(0,a.jsx)("p",{className:"text-[11px] text-slate-500 mb-3",children:"Freedom24 udostepnia raport brokera w formacie XLS."}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(H,{step:1,text:"Zaloguj sie do wersji webowej Freedom24"}),(0,a.jsx)(H,{step:2,text:"Kliknij ikone menu (hamburger) w prawym gornym rogu"}),(0,a.jsx)(H,{step:3,text:'Wybierz "Sprawozdanie" z menu'}),(0,a.jsx)(H,{step:4,text:'Wybierz "Raport brokera" i zaznacz opcje "Za okres"'}),(0,a.jsx)(H,{step:5,text:"Ustaw jak najszerszy mozliwy zakres dat — wszystkie lata wstecz od poczatku konta"}),(0,a.jsx)(H,{step:6,text:"Potwierdz zielonym przyciskiem i pobierz plik XLS"}),(0,a.jsx)(H,{step:7,text:"Wgraj plik do TaxPilot"})]}),(0,a.jsx)("div",{className:"mt-3 rounded-lg bg-sky-500/10 border border-sky-500/20 px-3 py-2",children:(0,a.jsxs)("p",{className:"text-[11px] text-sky-300",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Uwaga:"})," Raport musi obejmowac cala historie — konieczne do prawidlowego obliczenia podatku metoda FIFO. Obslugiwane sa pliki w formacie XLS."]})})]}),(0,a.jsxs)("div",{className:"rounded-lg bg-slate-800/60 border border-slate-700 px-4 py-3",children:[(0,a.jsx)("h4",{className:"text-xs font-semibold text-slate-200 mb-2",children:"Ogolne wskazowki"}),(0,a.jsxs)("ul",{className:"space-y-1.5 text-[11px] text-slate-400",children:[(0,a.jsxs)("li",{className:"flex gap-2",children:[(0,a.jsx)("span",{className:"text-blue-400 mt-0.5 flex-shrink-0",children:"1."}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"text-slate-300 font-medium",children:"Pobierz dane z WSZYSTKICH lat"})," — jesli kupiles akcje w 2021, a sprzedales w 2024, potrzebujesz danych z obu lat."]})]}),(0,a.jsxs)("li",{className:"flex gap-2",children:[(0,a.jsx)("span",{className:"text-blue-400 mt-0.5 flex-shrink-0",children:"2."}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"text-slate-300 font-medium",children:"Plik z transakcjami + plik z dywidendami"})," — u niektorych brokerow (np. IBKR) to osobne pliki. Wgraj oba."]})]}),(0,a.jsxs)("li",{className:"flex gap-2",children:[(0,a.jsx)("span",{className:"text-blue-400 mt-0.5 flex-shrink-0",children:"3."}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"text-slate-300 font-medium",children:"Format CSV lub XLSX"})," — TaxPilot obsluguje oba. CSV jest preferowany (mniejszy, szybszy)."]})]}),(0,a.jsxs)("li",{className:"flex gap-2",children:[(0,a.jsx)("span",{className:"text-blue-400 mt-0.5 flex-shrink-0",children:"4."}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"text-slate-300 font-medium",children:"Kilku brokerow?"})," — wgraj pliki ze wszystkich brokerow naraz. System polaczy transakcje automatycznie."]})]}),(0,a.jsxs)("li",{className:"flex gap-2",children:[(0,a.jsx)("span",{className:"text-blue-400 mt-0.5 flex-shrink-0",children:"5."}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"text-slate-300 font-medium",children:"Brakuje starych plikow?"}),' — uzyj sekcji "Uzupelnij brakujace kupna" aby wpisac historyczne kupna recznie.']})]})]})]}),(0,a.jsxs)("div",{className:"rounded-lg bg-slate-800/60 border border-slate-700 px-4 py-3",children:[(0,a.jsx)("h4",{className:"text-xs font-semibold text-slate-200 mb-2",children:"Jakie dane sa potrzebne?"}),(0,a.jsx)("p",{className:"text-[11px] text-slate-400 mb-2",children:"TaxPilot automatycznie wyciagnie potrzebne informacje z pliku. Upewnij sie, ze raport zawiera:"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{className:"bg-slate-900/50 rounded px-3 py-2",children:[(0,a.jsx)("p",{className:"text-[10px] font-semibold text-emerald-400 mb-1",children:"Dla akcji/ETF (kupno i sprzedaz):"}),(0,a.jsxs)("ul",{className:"text-[11px] text-slate-400 space-y-0.5",children:[(0,a.jsx)("li",{children:"- Symbol waloru (np. AAPL, VWCE.DE)"}),(0,a.jsx)("li",{children:"- Data transakcji"}),(0,a.jsx)("li",{children:"- Ilosc (quantity)"}),(0,a.jsx)("li",{children:"- Cena za sztuke"}),(0,a.jsx)("li",{children:"- Waluta (USD, EUR...)"}),(0,a.jsx)("li",{children:"- Prowizja / NetCash"})]})]}),(0,a.jsxs)("div",{className:"bg-slate-900/50 rounded px-3 py-2",children:[(0,a.jsx)("p",{className:"text-[10px] font-semibold text-purple-400 mb-1",children:"Dla dywidend:"}),(0,a.jsxs)("ul",{className:"text-[11px] text-slate-400 space-y-0.5",children:[(0,a.jsx)("li",{children:"- Symbol waloru"}),(0,a.jsx)("li",{children:"- Data wyplaty"}),(0,a.jsx)("li",{children:"- Kwota brutto dywidendy"}),(0,a.jsx)("li",{children:"- Waluta"}),(0,a.jsx)("li",{children:"- Podatek u zrodla (WHT)"}),(0,a.jsx)("li",{children:"- ISIN (opcjonalnie, do identyfikacji kraju)"})]})]})]})]})]})}),(0,a.jsx)(D,{title:"Slownik pojec",id:"glossary",activeId:ed,onToggle:ec,children:(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-3",children:[(0,a.jsx)(E,{term:"FIFO (First In, First Out)",definition:"Metoda parowania transakcji: sprzedaz jest parowana z najstarszym kupnem tego samego waloru. Wymagana przez polskie prawo podatkowe (art. 30a ust. 3 ustawy o PIT)."}),(0,a.jsx)(E,{term:"PIT-38",definition:"Formularz zeznania rocznego o wysokosci osiagnietego dochodu z kapitalow pienieznych. Sklada sie do 30 kwietnia za rok poprzedni."}),(0,a.jsx)(E,{term:"PIT/ZG",definition:"Zalacznik do PIT-36 lub PIT-38 — informacja o dochodach/stratach z zagranicy. Osobny dla kazdego kraju, z ktorego uzyskano dochod."}),(0,a.jsx)(E,{term:"WHT (Withholding Tax)",definition:"Podatek u zrodla — pobrany automatycznie przez zagraniczny kraj w momencie wyplaty dywidendy. Np. USA pobiera 15% (z W-8BEN) lub 30% (bez W-8BEN)."}),(0,a.jsx)(E,{term:"NBP (Narodowy Bank Polski)",definition:"Bank centralny Polski. Publikuje tabele kursow srednich walut obcych (tabela A), ktore sa podstawa do przeliczenia transakcji na PLN."}),(0,a.jsx)(E,{term:"Kurs NBP",definition:"Sredni kurs waluty z tabeli A NBP z ostatniego dnia roboczego POPRZEDZAJACEGO dzien rozliczenia (settlement date). Podstawa prawna: art. 11a ust. 1 ustawy o PIT."}),(0,a.jsx)(E,{term:"Settlement date",definition:"Data rozliczenia transakcji (nie data zlozenia zlecenia). Dla rynku US/CA/MX od 28.05.2024 wynosi T+1, dla pozostalych T+2 (dni robocze)."}),(0,a.jsx)(E,{term:"Trade date",definition:"Data faktycznego zawarcia transakcji (zlozenia zlecenia na gieldzie). Rozni sie od settlement date o 1-2 dni robocze."}),(0,a.jsx)(E,{term:"ISIN",definition:"Miedzynarodowy numer identyfikujacy papier wartosciowy. Pierwsze 2 znaki to kod kraju emitenta (np. US = USA, IE = Irlandia)."}),(0,a.jsx)(E,{term:"Przychod (poz. 22 PIT-38)",definition:"Kwota uzyskana ze sprzedazy papierow wartosciowych, przeliczona na PLN po kursie NBP z dnia rozliczenia. Pomniejszona o prowizje sprzedazy."}),(0,a.jsx)(E,{term:"Koszty (poz. 23 PIT-38)",definition:"Koszt nabycia sprzedanych papierow: cena kupna + prowizja kupna, przeliczone na PLN po kursie NBP z dnia rozliczenia kupna."}),(0,a.jsx)(E,{term:"Strata podatkowa",definition:"Gdy koszty przewyzszaja przychod. Mozna odliczyc w ciagu nastepnych 5 lat, max 50% straty rocznie (art. 9 ust. 3 ustawy o PIT)."}),(0,a.jsx)(E,{term:"W-8BEN",definition:"Formularz IRS potwierdzajacy status podatkowy nierezydenta USA. Obniza WHT z dywidend amerykanskich z 30% do 15% na mocy umowy PL-US."}),(0,a.jsx)(E,{term:"ETF (Exchange-Traded Fund)",definition:"Fundusz inwestycyjny notowany na gieldzie. Opodatkowany tak samo jak akcje — zysk ze sprzedazy rozliczasz w PIT-38."}),(0,a.jsx)(E,{term:"Akcja korporacyjna (Corporate Action)",definition:"Zdarzenie jak split, reverse split, spin-off, merger. Moze zmienic ilosc lub cene akcji w portfelu bez transakcji kupna/sprzedazy."}),(0,a.jsx)(E,{term:"Broker",definition:"Posrednik umozliwiajacy handel papierami wartosciowymi. Popularne: Interactive Brokers (IBKR), Exante, Revolut, XTB, mBank eMakler."})]})}),(0,a.jsxs)(D,{title:"Stawki WHT wg umow o unikaniu podwojnego opodatkowania",id:"wht-rates",activeId:ed,onToggle:ec,children:[(0,a.jsx)("p",{className:"text-xs text-slate-400 mb-3",children:"Ponizsze stawki dotycza podatku u zrodla od dywidend dla polskich rezydentow podatkowych. Wymagany formularz W-8BEN (USA) lub odpowiednik dla danego kraju."}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"data-table w-full text-xs",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Kraj"}),(0,a.jsx)("th",{children:"Stawka WHT"}),(0,a.jsx)("th",{children:"Stawka bez umowy"}),(0,a.jsx)("th",{children:"Formularz"}),(0,a.jsx)("th",{children:"Uwagi"})]})}),(0,a.jsxs)("tbody",{children:[(0,a.jsx)(K,{country:"USA",rate:"15%",noTreaty:"30%",form:"W-8BEN",note:"Najczestsza — wiekszosc akcji na NYSE/NASDAQ"}),(0,a.jsx)(K,{country:"Irlandia",rate:"15%",noTreaty:"25%",form:"n/d",note:"Wiele ETF-ow europejskich (UCITS) ma siedzibe w IE"}),(0,a.jsx)(K,{country:"Luksemburg",rate:"15%",noTreaty:"15%",form:"n/d",note:"Fundusze UCITS, spolki holdingowe"}),(0,a.jsx)(K,{country:"Niemcy",rate:"15%",noTreaty:"26.375%",form:"n/d",note:"DAX, XETRA — niemieckie spolki"}),(0,a.jsx)(K,{country:"Wielka Brytania",rate:"0%",noTreaty:"0%",form:"n/d",note:"UK nie pobiera WHT od dywidend"}),(0,a.jsx)(K,{country:"Holandia",rate:"10%",noTreaty:"15%",form:"n/d",note:"AEX — spolki holenderskie"}),(0,a.jsx)(K,{country:"Francja",rate:"15%",noTreaty:"30%",form:"n/d",note:"CAC 40 — spolki francuskie"}),(0,a.jsx)(K,{country:"Szwajcaria",rate:"15%",noTreaty:"35%",form:"n/d",note:"Wysoka stawka bez umowy!"}),(0,a.jsx)(K,{country:"Kanada",rate:"15%",noTreaty:"25%",form:"NR301",note:"TSX — spolki kanadyjskie"}),(0,a.jsx)(K,{country:"Japonia",rate:"10%",noTreaty:"20.42%",form:"n/d",note:"Nikkei — spolki japonskie"}),(0,a.jsx)(K,{country:"Australia",rate:"15%",noTreaty:"30%",form:"n/d",note:"ASX — spolki australijskie"}),(0,a.jsx)(K,{country:"Norwegia",rate:"15%",noTreaty:"25%",form:"n/d",note:"OBX — spolki norweskie"}),(0,a.jsx)(K,{country:"Szwecja",rate:"15%",noTreaty:"30%",form:"n/d",note:"OMX — spolki szwedzkie"}),(0,a.jsx)(K,{country:"Dania",rate:"15%",noTreaty:"27%",form:"n/d",note:"OMX — spolki dunskie"})]})]})}),(0,a.jsx)("p",{className:"text-[10px] text-slate-500 mt-2",children:"Stawki orientacyjne na 2024 r. Sprawdz aktualna umowe na stronie Ministerstwa Finansow. Rzeczywista stawka moze zalezec od rodzaju dochodu i statusu beneficjenta."})]}),(0,a.jsx)(D,{title:"Najczesciej zadawane pytania (FAQ)",id:"faq",activeId:ed,onToggle:ec,children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(A,{question:"Czy muszem rozliczac kazda transakcje osobno?",answer:"Nie — w PIT-38 wpisujesz laczna kwote przychodu (poz. 22) i kosztow (poz. 23). Szczegolowe parowania FIFO zachowujesz w dokumentacji na wypadek kontroli skarbowej."}),(0,a.jsx)(A,{question:"Co jesli mialem same straty w danym roku?",answer:"Wpisujesz strate w poz. 27 PIT-38. Podatek wynosi 0 zl. Strate mozesz odliczyc od zyskow w nastepnych 5 latach (max 50% straty rocznie). PIT-38 skladasz nawet jezeli masz sama strate."}),(0,a.jsx)(A,{question:"Czy muszem skladac PIT-38 jesli nie sprzedawalem akcji?",answer:"Jesli w danym roku nie sprzedawales papierow wartosciowych i nie uzyskales zyskow kapitalowych — nie musisz skladac PIT-38. Ale jesli miales dywidendy zagraniczne, rozliczasz je w PIT-36."}),(0,a.jsx)(A,{question:"Jaki kurs NBP stosowac?",answer:"Sredni kurs z tabeli A NBP z ostatniego dnia roboczego POPRZEDZAJACEGO date rozliczenia (settlement date), a nie date transakcji (trade date). Art. 11a ust. 1 ustawy o PIT."}),(0,a.jsx)(A,{question:"Czy prowizje brokerskie odliczam od podatku?",answer:"Tak — prowizja kupna zwieksza koszt nabycia (poz. 23), a prowizja sprzedazy pomniejsza przychod (poz. 22). Efektywnie obnizaja zysk i podatek."}),(0,a.jsx)(A,{question:"Co z podatkiem od dywidend amerykanskich (W-8BEN)?",answer:"USA pobiera 15% WHT (z W-8BEN). Polska wymaga 19%. Roznице (19% - 15% = 4%) doplaczasz w Polsce. Bez W-8BEN USA pobiera 30% — nadwyzke nad 19% nie odzyskasz automatycznie."}),(0,a.jsx)(A,{question:"Czy ETF-y sa opodatkowane tak samo jak akcje?",answer:"Tak — zysk ze sprzedazy ETF (np. VWCE, CSPX) rozliczasz identycznie jak akcje w PIT-38 metoda FIFO. Dywidendy z ETF-ow dystrybucyjnych rowniez podlegaja opodatkowaniu."}),(0,a.jsx)(A,{question:"Co to jest T+1 i T+2?",answer:"Czas rozliczenia transakcji. T+1 = 1 dzien roboczy po transakcji (US/CA/MX od 28.05.2024). T+2 = 2 dni robocze (Europa, Azja). Wazne dla ustalenia kursu NBP."}),(0,a.jsx)(A,{question:"Jak rozliczyc split akcji (np. 4:1)?",answer:"Split zmienia ilosc i cene akcji, ale nie wartosc. Jesli miales 10 akcji po 400 USD i nastapil split 4:1, masz 40 akcji po 100 USD. Koszt nabycia laczny sie nie zmienia. TaxPilot nie obsluguje automatycznie splitow — moze byc konieczna reczna korekta."}),(0,a.jsx)(A,{question:"Do kiedy musze zlozyc PIT-38?",answer:"Do 30 kwietnia roku nastepnego po roku podatkowym. Za 2024 rok — do 30 kwietnia 2025. Mozna zlozyc elektronicznie przez e-Deklaracje lub Twoj e-PIT."}),(0,a.jsx)(A,{question:"Czy moge rozliczac kilka brokerow na jednym PIT-38?",answer:"Tak — laczsz wszystkie transakcje ze wszystkich brokerow i wpisujesz laczne kwoty w PIT-38. TaxPilot obsluguje jednoczesne wgranie plikow z roznych brokerow."}),(0,a.jsx)(A,{question:"Co jesli WHT jest wyzszy niz polski podatek od dywidend?",answer:"Doplata w Polsce wynosi 0 zl (nie moze byc ujemna). Nadwyzki WHT ponad 19% nie odzyskasz automatycznie w Polsce — mozesz sprobowac ubiegac sie o zwrot w kraju zrodla."})]})}),(0,a.jsx)(D,{title:"Najczestsze bledy przy rozliczaniu",id:"mistakes",activeId:ed,onToggle:ec,children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(O,{number:1,title:"Uzycie kursu z dnia transakcji zamiast dnia rozliczenia",description:"Kurs NBP bierze sie z dnia roboczego PRZED settlement date, nie trade date. Roznica T+1/T+2 zmienia kurs i moze wplynac na obliczenia."}),(0,a.jsx)(O,{number:2,title:"Brak PIT-38 przy samej stracie",description:"Nawet jesli masz same straty, musisz zlozyc PIT-38. Bez tego nie bedziesz mogl odliczyc straty w przyszlosci."}),(0,a.jsx)(O,{number:3,title:"Niezlozenie W-8BEN u brokera",description:"Bez W-8BEN USA pobiera 30% WHT zamiast 15%. Nadwyzka ponad 19% polskiego podatku to strata — nie odliczysz jej w PIT."}),(0,a.jsx)(O,{number:4,title:"Pominiecie dywidend w rozliczeniu",description:"Dywidendy zagraniczne musisz rozliczyc w PIT-36 (nie PIT-38!), nawet jesli broker juz pobral WHT. Brak rozliczenia to zaleglosc podatkowa."}),(0,a.jsx)(O,{number:5,title:"Brak zalacznika PIT/ZG",description:"Jesli uzyskujesz dochody z zagranicy, musisz dolaczyc PIT/ZG — osobny dla kazdego kraju. Bez tego PIT jest niekompletny."}),(0,a.jsx)(O,{number:6,title:"Stosowanie LIFO zamiast FIFO",description:"Polskie prawo wymaga metody FIFO (First In, First Out). Sprzedaz ZAWSZE paruje sie z najstarszym kupnem, nie najnowszym."}),(0,a.jsx)(O,{number:7,title:"Nieuwzglednienie prowizji w kosztach",description:"Prowizje brokerskie sa czescia kosztu nabycia (przy kupnie) i pomniejszaja przychod (przy sprzedazy). Pominiecie ich zawyza podatek."}),(0,a.jsx)(O,{number:8,title:"Odliczenie ponad 50% straty z lat ubieglych",description:"W jednym roku mozesz odliczyc max 50% lacznej straty z lat ubieglych. Reszta przechodzi na kolejne lata (lacznie max 5 lat)."}),(0,a.jsx)(O,{number:9,title:"Podwojne rozliczenie tej samej transakcji",description:"Jesli wgrywasz pliki z kilku lat, upewnij sie ze nie dupllikujesz transakcji. TaxPilot filtruje po roku podatkowym, ale identyczne pliki moga powodowac podwojenia."}),(0,a.jsx)(O,{number:10,title:"Ignorowanie akcji korporacyjnych (split, spin-off)",description:"Split/reverse split zmienia ilosc i cene akcji. Jesli broker nie uwzglednil tego w CSV, parowanie FIFO moze byc nieprawidlowe."})]})}),(0,a.jsx)(D,{title:"Przydatne linki i zasoby",id:"links",activeId:ed,onToggle:ec,children:(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,a.jsx)(Z,{title:"e-Deklaracje",url:"https://www.podatki.gov.pl/e-deklaracje/",description:"Elektroniczne skladanie PIT-38, PIT-36 i zalacznikow"}),(0,a.jsx)(Z,{title:"Twoj e-PIT",url:"https://www.podatki.gov.pl/pit/twoj-e-pit/",description:"Wstepnie wypelnione zeznanie podatkowe"}),(0,a.jsx)(Z,{title:"Kursy NBP — Tabela A",url:"https://www.nbp.pl/home.aspx?f=/kursy/kursya.html",description:"Aktualne i archiwalne kursy srednich walut obcych"}),(0,a.jsx)(Z,{title:"API NBP",url:"https://api.nbp.pl/",description:"Programistyczny dostep do kursow NBP (uzywa TaxPilot)"}),(0,a.jsx)(Z,{title:"Ustawa o PIT",url:"https://isap.sejm.gov.pl/isap.nsf/DocDetails.xsp?id=WDU19910800350",description:"Pelny tekst ustawy o podatku dochodowym od osob fizycznych"}),(0,a.jsx)(Z,{title:"Umowy o unikaniu podwojnego opodatkowania",url:"https://www.podatki.gov.pl/podatkowa-wspolpraca-miedzynarodowa/umowy-o-unikaniu-podwojnego-opodatkowania/",description:"Lista umow PL z innymi krajami — stawki WHT"}),(0,a.jsx)(Z,{title:"Krajowa Administracja Skarbowa",url:"https://www.kas.gov.pl/",description:"Informacje o podatkach, kontakt z urzedem skarbowym"}),(0,a.jsx)(Z,{title:"IRS W-8BEN",url:"https://www.irs.gov/forms-pubs/about-form-w-8-ben",description:"Formularz W-8BEN — obnizenie WHT z USA do 15%"})]})}),(0,a.jsx)(D,{title:"Kalendarz podatkowy inwestora",id:"calendar",activeId:ed,onToggle:ec,children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(R,{date:"Styczen - Luty",title:"Pobierz raporty z brokera",description:"Pobierz roczne potwierdzenia transakcji (Activity Statements, Flex Queries) ze wszystkich brokerow za miniony rok. Upewnij sie, ze masz pelna historie kupna."}),(0,a.jsx)(R,{date:"Luty - Marzec",title:"Oblicz podatek",description:"Uzyj TaxPilot lub innego narzedzia do obliczenia zyskow kapitalowych (FIFO), dywidend i podatku naleznego. Zweryfikuj wyniki."}),(0,a.jsx)(R,{date:"15 lutego",title:"PIT-8C od polskich brokerow",description:"Polscy brokerzy (XTB, mBank) wysylaja PIT-8C do 15 lutego. Zagraniczni brokerzy (IBKR, Exante) NIE wysylaja PIT-8C — musisz obliczyc sam."}),(0,a.jsx)(R,{date:"Do 30 kwietnia",title:"Zloz PIT-38 + PIT/ZG",description:"Termin zlozenia PIT-38 (zyski kapitalowe) i PIT/ZG (dochody z zagranicy). Mozna elektronicznie przez e-Deklaracje lub Twoj e-PIT."}),(0,a.jsx)(R,{date:"Do 30 kwietnia",title:"Zloz PIT-36 (dywidendy zagraniczne)",description:"Jesli miales dywidendy z zagranicznych spolek — rozlicz je w PIT-36 Czesc G. Dolacz PIT/ZG."}),(0,a.jsx)(R,{date:"Do 30 kwietnia",title:"Wplac podatek",description:"Przelej nalezny podatek na indywidualny mikrorachunek podatkowy (IRP). Numer sprawdzisz na stronie podatki.gov.pl."})]})})]})]})}),(0,a.jsx)("footer",{className:"border-t border-slate-800 bg-[#0d1117] mt-auto",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto px-6 py-6 text-center space-y-2",children:[(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"TaxPilot jest narzedziem pomocniczym. Wyniki nie stanowia porady podatkowej. Zweryfikuj obliczenia z doradca podatkowym przed zlozeniem deklaracji PIT-38."}),(0,a.jsxs)("p",{className:"text-xs text-slate-600",children:["\xa9 ",new Date().getFullYear()," TaxPilot. Kursy walut NBP. Metoda FIFO zgodna z art. 30b ustawy o PIT."]})]})})]})}function I(e){let{label:t,value:s,color:l="text-slate-200",highlight:r=!1}=e;return(0,a.jsxs)("div",{className:"rounded-lg px-4 py-3 ".concat(r?"bg-amber-500/10 border border-amber-500/20":"bg-slate-800/60"),children:[(0,a.jsx)("p",{className:"text-xs text-slate-400 mb-1",children:t}),(0,a.jsx)("p",{className:"text-lg font-semibold ".concat(l),children:s})]})}function B(e){let{title:t,isOpen:s,onToggle:l,children:r}=e;return(0,a.jsxs)("div",{className:"rounded-lg border border-slate-700/50 bg-slate-800/30 overflow-hidden",children:[(0,a.jsxs)("button",{onClick:l,className:"w-full flex items-center gap-2 px-4 py-3 text-sm text-slate-400 hover:text-slate-200 transition-colors",children:[(0,a.jsx)("svg",{className:"w-4 h-4 text-blue-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)("span",{className:"font-medium",children:t}),(0,a.jsx)("svg",{className:"w-4 h-4 ml-auto transition-transform ".concat(s?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),s&&(0,a.jsx)("div",{className:"px-4 pb-4 text-sm leading-relaxed",children:r})]})}function M(e){let{field:t,label:s,value:l,description:r,highlight:i=!1}=e;return(0,a.jsxs)("div",{className:"flex items-start gap-3 rounded-lg px-3 py-2.5 ".concat(i?"bg-orange-500/10 border border-orange-500/15":"bg-slate-800/50"),children:[(0,a.jsx)("span",{className:"flex-shrink-0 bg-slate-700 text-orange-300 text-[10px] font-bold px-2 py-1 rounded mt-0.5 min-w-[60px] text-center",children:t}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-baseline justify-between gap-2",children:[(0,a.jsx)("span",{className:"text-xs text-slate-300 font-medium",children:s}),(0,a.jsx)("span",{className:"text-sm font-semibold flex-shrink-0 ".concat(i?"text-orange-300":"text-slate-100"),children:l})]}),(0,a.jsx)("p",{className:"text-[11px] text-slate-500 mt-0.5",children:r})]})]})}function D(e){let{title:t,id:s,activeId:l,onToggle:r,children:i}=e,n=l===s;return(0,a.jsxs)("div",{className:"rounded-lg border border-slate-700/50 bg-slate-800/30 overflow-hidden",children:[(0,a.jsxs)("button",{onClick:()=>r(n?null:s),className:"w-full flex items-center gap-2 px-4 py-3 text-sm text-slate-400 hover:text-slate-200 transition-colors",children:[(0,a.jsx)("span",{className:"font-medium flex-1 text-left",children:t}),(0,a.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(n?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),n&&(0,a.jsx)("div",{className:"px-4 pb-4 text-sm leading-relaxed",children:i})]})}function E(e){let{term:t,definition:s}=e;return(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg px-3 py-2.5",children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-violet-300 mb-1",children:t}),(0,a.jsx)("p",{className:"text-[11px] text-slate-400 leading-relaxed",children:s})]})}function K(e){let{country:t,rate:s,noTreaty:l,form:r,note:i}=e;return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"font-medium text-slate-200",children:t}),(0,a.jsx)("td",{className:"text-emerald-400 font-semibold",children:s}),(0,a.jsx)("td",{className:"text-red-400",children:l}),(0,a.jsx)("td",{className:"text-slate-400",children:r}),(0,a.jsx)("td",{className:"text-slate-500 text-[11px]",children:i})]})}function A(e){let{question:t,answer:s}=e;return(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg px-4 py-3",children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-slate-200 mb-1.5",children:t}),(0,a.jsx)("p",{className:"text-[11px] text-slate-400 leading-relaxed",children:s})]})}function O(e){let{number:t,title:s,description:l}=e;return(0,a.jsxs)("div",{className:"flex gap-3 bg-red-500/5 border border-red-500/10 rounded-lg px-4 py-3",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-red-500/20 text-red-400 text-xs font-bold flex items-center justify-center mt-0.5",children:t}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-slate-200 mb-1",children:s}),(0,a.jsx)("p",{className:"text-[11px] text-slate-400 leading-relaxed",children:l})]})]})}function Z(e){let{title:t,url:s,description:l}=e;return(0,a.jsxs)("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"block bg-slate-800/50 hover:bg-slate-800/80 border border-slate-700/50 hover:border-slate-600 rounded-lg px-4 py-3 transition-colors group",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-xs font-semibold text-blue-400 group-hover:text-blue-300",children:t}),(0,a.jsx)("svg",{className:"w-3 h-3 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]}),(0,a.jsx)("p",{className:"text-[11px] text-slate-500",children:l})]})}function R(e){let{date:t,title:s,description:l}=e;return(0,a.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,a.jsx)("span",{className:"flex-shrink-0 bg-violet-500/15 text-violet-400 text-[10px] font-bold px-2.5 py-1 rounded min-w-[90px] text-center mt-0.5",children:t}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-slate-200 mb-0.5",children:s}),(0,a.jsx)("p",{className:"text-[11px] text-slate-400 leading-relaxed",children:l})]})]})}function H(e){let{step:t,text:s}=e;return(0,a.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-slate-700 text-slate-300 text-[11px] font-bold flex items-center justify-center mt-0.5",children:t}),(0,a.jsx)("p",{className:"text-[12px] text-slate-300 leading-relaxed",children:s})]})}},9854:(e,t,s)=>{Promise.resolve().then(s.bind(s,3932))}},e=>{e.O(0,[949,441,255,358],()=>e(e.s=9854)),_N_E=e.O()}]);